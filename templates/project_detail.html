<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ project.title }} - Project Detail</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/fullpage.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.4.0/css/all.css">
    <style>
        /* 详情页特殊样式：允许滚动 */
        html, body {
            overflow: auto !important;
            height: auto !important;
        }
        
        /* 隐藏滚动条但保持滚动功能 */
        html::-webkit-scrollbar,
        body::-webkit-scrollbar,
        .project-detail-page::-webkit-scrollbar {
            display: none;
        }
        
        html,
        body,
        .project-detail-page {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body>
    <!-- 网格背景画布 -->
    <canvas id="bgCanvas" class="bg-canvas"></canvas>
    
    <!-- Dwen Dwen背景图片 -->
    <div class="dwen-bg-image"></div>
    
    <!-- 项目详情页面 -->
    <div class="project-detail-page">
        <!-- 返回按钮 -->
        <div class="back-button">
            <a href="/#projects" class="back-link">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 12H5M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>RETURN</span>
            </a>
        </div>
        
        <!-- 项目内容 -->
        <div class="project-content-wrapper">
            {% if project.id == 'franken' %}
                <!-- Frankenstories 特殊布局 -->
                <div class="dwen-layout">
                    <!-- 标题区 -->
                    <div class="dwen-hero">
                        <h1 class="dwen-title" data-text="FRANKENSTORIES">FRANKENSTORIES</h1>
                        <p class="dwen-subtitle">
                            <span class="subtitle-decorator">◆</span>
                            Story Generation from Reusable Parts
                            <span class="subtitle-decorator">◆</span>
                        </p>
                        <div class="dwen-meta-info">
                            <span class="meta-date">Final Year Project (In Progress)</span>
                            <span class="meta-divider-thick">|</span>
                            <span class="tech-stack">Computational Creativity · Multimodal Narrative · LLM Story Generation</span>
                        </div>
                    </div>

                    <!-- 内容区块 -->
                    <div class="dwen-sections">
                        <!-- 01 Project Overview -->
                        <section class="dwen-section" data-number="01">
                            <div class="section-number">01</div>
                            <h2 class="section-title">Project Overview</h2>
                            <div class="section-content">
                                <p>FrankenStory explores the intersection of AI-generated storytelling and visual narrative composition.</p>
                                <p>The system builds stories by recombining reusable comic elements — text, panels, and visual cues — stored in a structured ComiXML repository. The project investigates how large language models (LLMs) can guide narrative synthesis while maintaining coherence, integration, and thematic consistency across panels.</p>
                                <p class="highlight">The ultimate goal is to design an automated creative system capable of generating complete, visually grounded stories that feel intentional rather than fragmented.</p>
                            </div>
                        </section>

                        <!-- 02 Background & Motivation -->
                        <section class="dwen-section" data-number="02">
                            <div class="section-number">02</div>
                            <h2 class="section-title">Background & Motivation</h2>
                            <div class="section-content">
                                <p>Traditional AI storytelling models often produce fluent sentences but lack continuity and visual logic when applied to comics or sequential art.</p>
                                <p>Using ComiXML, a data structure developed by our supervisor, this project aims to bridge that gap by experimenting with two main generation methods:</p>
                                <div class="generation-methods">
                                    <div class="method-highlight">
                                        <h4>Direct XML-driven generation</h4>
                                        <p>Prompting the model to synthesize stories from structured comic metadata.</p>
                                    </div>
                                    <div class="method-highlight">
                                        <h4>Dialogue-based refinement</h4>
                                        <p>Iteratively co-creating stories via conversational prompts that clarify context and structure before composition.</p>
                                    </div>
                                </div>
                                <p>This comparison helps identify which approach better supports narrative cohesion and character consistency.</p>
                            </div>
                        </section>

                        <!-- 03 Research Focus -->
                        <section class="dwen-section" data-number="03">
                            <div class="section-number">03</div>
                            <h2 class="section-title">Research Focus</h2>
                            <div class="section-content">
                                <p>The study centers on three major challenges observed in current ComiXML outputs:</p>
                                <div class="challenge-grid">
                                    <div class="challenge-item">
                                        <h3>Hallucination</h3>
                                        <p>Inaccurate or irrelevant panel generation beyond source context.</p>
                                    </div>
                                    <div class="challenge-item">
                                        <h3>Cohesion</h3>
                                        <p>Lack of logical or emotional flow between sequential panels.</p>
                                    </div>
                                    <div class="challenge-item">
                                        <h3>Integration</h3>
                                        <p>Weak alignment between text, image cues, and underlying theme.</p>
                                    </div>
                                </div>
                                <p>Through systematic evaluation and qualitative analysis, the project will propose new metrics for assessing story coherence, panel linkage, and creative fidelity in multimodal generation.</p>
                            </div>
                        </section>

                        <!-- 04 Methodology -->
                        <section class="dwen-section" data-number="04">
                            <div class="section-number">04</div>
                            <h2 class="section-title">Methodology & Implementation</h2>
                            <div class="section-content">
                                <div class="methodology-list">
                                    <div class="method-item">
                                        <span class="method-label">Framework</span>
                                        <span class="method-value">Python-based LLM interface + ComiXML repository</span>
                                    </div>
                                    <div class="method-item">
                                        <span class="method-label">Data</span>
                                        <span class="method-value">Curated visual-textual assets from existing comics</span>
                                    </div>
                                    <div class="method-item">
                                        <span class="method-label">Evaluation</span>
                                        <span class="method-value">Human preference testing + narrative consistency metrics</span>
                                    </div>
                                    <div class="method-item">
                                        <span class="method-label">Pipeline</span>
                                        <span class="method-value">Story concept → Panel retrieval → Scene synthesis → XML rendering</span>
                                    </div>
                                </div>
                                <p>The current stage involves implementing and comparing both generation pipelines, refining prompt design, and testing output quality through user evaluations.</p>
                            </div>
                        </section>

                        <!-- 05 Expected Outcome -->
                        <section class="dwen-section" data-number="05">
                            <div class="section-number">05</div>
                            <h2 class="section-title">Expected Outcome</h2>
                            <div class="section-content">
                                <p>FrankenStory aims to produce:</p>
                                <ul class="outcome-list">
                                    <li>A functional AI-assisted storytelling engine combining structured XML logic and generative creativity.</li>
                                    <li>An evaluation framework for narrative coherence in multimodal generation.</li>
                                    <li>A curated dataset of sample stories demonstrating different synthesis strategies.</li>
                                </ul>
                            </div>
                        </section>

                        <!-- 06 Reflection -->
                        <section class="dwen-section" data-number="06">
                            <div class="section-number">06</div>
                            <h2 class="section-title">Reflection</h2>
                            <div class="section-content">
                                <p class="reflection-text">This project deepens my understanding of computational creativity, AI narrative control, and the balance between structured representation and open-ended generation. It also strengthens my interdisciplinary thinking—bridging software engineering, language modeling, and digital storytelling design.</p>
                            </div>
                        </section>
                    </div>
                </div>
                {% elif project.id == 'event' %}
                <!-- Event Management 项目详情页面 -->
                <div class="dwen-layout">
                    <!-- 标题区 -->
                    <div class="dwen-hero">
                        <h1 class="dwen-title" data-text="EVENT MANAGEMENT">EVENT MANAGEMENT</h1>
                        <p class="dwen-subtitle">
                            <span class="subtitle-decorator">◆</span>
                            Enterprise-Grade Event Management System
                            <span class="subtitle-decorator">◆</span>
                        </p>
                        <div class="dwen-meta-info">
                            <span class="meta-date">Sept. 2024 - Jan. 2025</span>
                            <span class="meta-divider-thick">|</span>
                            <span class="tech-stack">Spring Boot, MySQL, Docker, Maven</span>
                        </div>
                    </div>

                    <!-- 内容区块 -->
                    <div class="dwen-sections">
                        <!-- 01 Project Overview -->
                        <section class="dwen-section" data-number="01">
                            <div class="section-number">01</div>
                            <h2 class="section-title">Project Overview</h2>
                            <div class="section-content">
                                <div class="project-overview-box">
                                    <p>A comprehensive enterprise-grade event management system built with Spring Boot, featuring multi-role authentication, complete CRUD operations, and extensive UML documentation.</p>
                        </div>
                            </div>
                        </section>

                        <!-- 02 Technical Implementation & OOD Process -->
                        <section class="dwen-section" data-number="02">
                            <div class="section-number">02</div>
                            <h2 class="section-title">Technical Implementation & OOD Process</h2>
                            <div class="section-content">
                                <div class="project-overview-box">
                                    <p>Built using Spring Boot 3.3.6 with enterprise-grade features demonstrating complete Object-Oriented Design methodology from UML modeling to Spring Boot implementation.</p>
                        </div>
                        
                                <div class="ood-process-container">
                                    <div class="ood-stage">
                                        <h3>01. Prototype</h3>
                                        <div class="stage-screenshot">
                                            <img src="{{ url_for('static', filename='media/eventmanagement/prototype.png') }}" alt="Prototype Phase Screenshot" onclick="openImageModal(this.src)" style="cursor: pointer;">
                        </div>
                                        <p>Initial wireframes and mockups defining UI layout and functionality flow.</p>
                    </div>

                                    <div class="ood-stage">
                                        <h3>02. UML Design</h3>
                                        <div class="stage-screenshot">
                                            <img src="{{ url_for('static', filename='media/eventmanagement/uml_design.png') }}" alt="UML Design Phase Screenshot" onclick="openImageModal(this.src)" style="cursor: pointer;">
                            </div>
                                        <p>Comprehensive UML documentation including class diagrams, use cases, and sequence diagrams.</p>
                        </div>
                                    
                                    <div class="ood-stage">
                                        <h3>03. Implementation</h3>
                                        <div class="stage-screenshot">
                                            <img src="{{ url_for('static', filename='media/eventmanagement/implementation.png') }}" alt="Implementation Phase Screenshot" onclick="openImageModal(this.src)" style="cursor: pointer;">
                            </div>
                                        <p>Final Spring Boot application with complete functionality and database integration.</p>
                        </div>
                            </div>
                        </div>
                        </section>

                        <!-- 03 System Architecture -->
                        <section class="dwen-section" data-number="03">
                            <div class="section-number">03</div>
                            <h2 class="section-title">System Architecture</h2>
                            <div class="section-content">
                                <div class="project-overview-box">
                                    <p>Implemented enterprise-grade 3-tier architecture following SOLID principles with comprehensive design patterns and security measures.</p>
                            </div>
                                
                                <div class="architecture-single-line">
                                    <span class="layer-tag">Presentation Layer</span>
                                    <span class="layer-tag">Business Logic Layer</span>
                                    <span class="layer-tag">Data Access Layer</span>
                                    <span class="layer-tag">Security Layer</span>
                                    <span class="layer-tag">Database Layer</span>
                            </div>
                                
                                <div class="design-patterns">
                                    <h3>Key Design Patterns</h3>
                                    <div class="patterns-grid">
                                        <div class="pattern-item">
                                            <h4>Abstract Inheritance</h4>
                                            <p>Account → Administrator/Organiser/User</p>
                        </div>
                                        <div class="pattern-item">
                                            <h4>Service Layer Pattern</h4>
                                            <p>Business logic encapsulation</p>
                    </div>
                                        <div class="pattern-item">
                                            <h4>Repository Pattern</h4>
                                            <p>Data access abstraction</p>
                                </div>
                                        <div class="pattern-item">
                                            <h4>DTO Pattern</h4>
                                            <p>Data transfer and validation</p>
                            </div>
                        </div>
                    </div>
                    </div>
                        </section>

                        <!-- 04 Project Outcomes -->
                        <section class="dwen-section" data-number="04">
                            <div class="section-number">04</div>
                            <h2 class="section-title">Project Outcomes</h2>
                            <div class="section-content">
                                <div class="project-outcomes-box">
                                    <p>This project was instrumental in developing my understanding of enterprise software development, team collaboration, and system design. Working with Spring Boot, Spring Security, and JPA provided hands-on experience with modern Java frameworks. The extensive UML documentation process taught me the importance of thorough system design and documentation in large-scale projects.</p>
                                </div>
                                
                                <div class="function-container">
                                    <h3 class="container-title">Source Code</h3>
                                    <div class="doc-content">
                                        <p>View the project source code and implementation details on GitHub (excluding sensitive configuration files).</p>
                                        <a href="https://github.com/sukikatte/event_management" class="download-link github-link" target="_blank" rel="noopener noreferrer">
                                            View on GitHub
                                        </a>
                            </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>

                {% elif project.id == 'mahjong' %}
                <!-- Mahjong Game System 特殊布局 -->
                <div class="dwen-layout">
                    <!-- 标题区 -->
                    <div class="dwen-hero">
                        <h1 class="dwen-title" data-text="MAHJONG GAME SYSTEM">MAHJONG GAME SYSTEM</h1>
                        <p class="dwen-subtitle">
                            <span class="subtitle-decorator">◆</span>
                            Cross-Platform Desktop Mahjong Application
                            <span class="subtitle-decorator">◆</span>
                        </p>
                        <div class="dwen-meta-info">
                            <span class="meta-date">Feb. 2024 - June 2024</span>
                            <span class="meta-divider-thick">|</span>
                            <span class="tech-stack">Java 17 · JavaFX 21 · Maven · JUnit/TestNG</span>
                        </div>
                    </div>

                    <!-- 内容区块 -->
                    <div class="dwen-sections">
                        <!-- PROJECT OVERVIEW -->
                        <section class="dwen-section">
                            <h2 class="section-title">Project Overview</h2>
                            <div class="section-content">
                                <div class="function-container problem-statement-container">
                                    <p>Developed as a comprehensive desktop application, Mahjong Game System is a fully-featured cross-platform game that implements traditional Chinese Mahjong rules with modern GUI design. The project demonstrates advanced object-oriented programming principles through MVC architecture, featuring intelligent AI opponents, sophisticated game algorithms, and real-time interactive gameplay. Built with Java 17 and JavaFX 21, it supports Windows, macOS, and Linux platforms, showcasing complete software engineering lifecycle from design to deployment.</p>
                                    </div>
                                    </div>
                        </section>

                        <!-- DEMO VIDEO -->
                        <section class="dwen-section">
                            <h2 class="section-title">Demo Video</h2>
                            <div class="section-content">
                                <div class="function-container">
                                    <p style="margin-bottom: 1rem; color: #fff;">This is the demonstration video of this game.</p>
                                    <video controls class="container-video" id="mahjongDemoVideo">
                                        <source src="{{ url_for('static', filename='media/mahjong/mahjong.mp4') }}" type="video/mp4">
                                        Mahjong Game Demo
                                    </video>
                                    </div>
                            </div>
                        </section>

                        <!-- CORE FEATURES -->
                        <section class="dwen-section">
                            <h2 class="section-title">Core Features</h2>
                            <div class="section-content">
                                <div class="features-grid">
                                    <!-- Game Modes -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Game Modes</h3>
                                        <div class="feature-content">
                                            <p><strong>Single Player Mode:</strong> Human player (SOUTH) vs 3 AI opponents (WEST, EAST, NORTH)</p>
                                            <p><strong>Real-time Turn Management:</strong> Dice-based dealer determination and turn rotation system</p>
                                            <p><strong>Complete Game Flow:</strong> From login interface to game settlement with leaderboard</p>
                                        </div>
                                    </div>

                                    <!-- Mahjong Rules Engine -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Mahjong Rules Engine</h3>
                                        <div class="feature-content">
                                            <p><strong>Core Operations:</strong> Chi (吃), Peng (碰), Gang (杠) with interactive dialog prompts</p>
                                            <p><strong>Winning Detection:</strong> Sophisticated algorithm supporting multiple winning patterns</p>
                                            <p><strong>Special Patterns:</strong> Dui Dui Hu, Qing Yi Se (清一色), Yi Tiao Long, Hao Hua Seven Pairs</p>
                                            <p><strong>Wild Card System:</strong> HunEr (混儿) implementation with dynamic substitution logic</p>
                                        </div>
                                    </div>

                                    <!-- Visual Interface -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Visual Interface</h3>
                                        <div class="feature-content">
                                            <p><strong>Four-Directional Rendering:</strong> East/South/West/North perspectives with rotated tile images</p>
                                            <p><strong>Interactive Tile Management:</strong> Mouse-click tile selection with visual feedback</p>
                                            <p><strong>Real-time UI Updates:</strong> Dynamic refresh of player hands, discarded tiles, and game state</p>
                                            <p><strong>Resource Management:</strong> 150+ PNG image assets for complete tile visualization</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- TECHNICAL IMPLEMENTATION -->
                        <section class="dwen-section">
                            <h2 class="section-title">Technical Implementation</h2>
                            <div class="section-content">
                                <div class="features-grid">
                                    <!-- Game Logic Architecture -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Game Logic Architecture</h3>
                                        <div class="feature-content">
                                            <p><strong>MVC Pattern:</strong> Clear separation between Game (Controller), Player/Item (Model), GameInterface (View)</p>
                                            <p><strong>Object-Oriented Design:</strong> 21 Java classes with inheritance hierarchy (Item → WindPlate/WordPlate)</p>
                                            <p><strong>State Management:</strong> Table class managing discarded tiles, waiting tiles, and game state</p>
                                    </div>
                                    </div>

                                    <!-- Advanced Algorithms -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Advanced Algorithms</h3>
                                        <div class="feature-content">
                                            <p><strong>Winning Detection:</strong> DetermineHu class with Jiang (将) extraction and pattern matching</p>
                                            <p><strong>Wild Card Logic:</strong> DetermineHunErWin with comprehensive substitution testing</p>
                                            <p><strong>Pattern Recognition:</strong> DetermineWinType supporting 5+ special winning combinations</p>
                                            <p><strong>Scoring System:</strong> Dynamic point calculation with time and accuracy factors</p>
                                    </div>
                                    </div>

                                    <!-- UI & Interaction Design -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">UI & Interaction Design</h3>
                                        <div class="feature-content">
                                            <p><strong>JavaFX Framework:</strong> Event-driven interaction with mouse click handlers</p>
                                            <p><strong>Responsive Layout:</strong> BorderPane with dynamic player area positioning</p>
                                            <p><strong>Visual Effects:</strong> Drop shadow effects for newly drawn tiles</p>
                                            <p><strong>Cross-platform Compatibility:</strong> Shell scripts for Windows/macOS/Linux deployment</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- PROJECT OUTCOMES -->
                        <section class="dwen-section">
                            <h2 class="section-title">Project Outcomes</h2>
                            <div class="section-content">
                                <div class="project-outcomes-box">
                                    <p>This project demonstrates comprehensive desktop application development, encompassing full-stack Java programming from core algorithms to modern GUI implementation. It combines traditional game logic with contemporary software engineering practices, including object-oriented design, design patterns, and cross-platform deployment. Through this development process, I gained hands-on experience in complex algorithm implementation, real-time UI management, and software architecture design.</p>
                                    </div>
                                
                                <div class="function-container">
                                    <h3 class="container-title">Source Code</h3>
                                    <div class="doc-content">
                                        <p>View the complete project implementation and technical details on GitHub.</p>
                                        <a href="https://github.com/sukikatte/mahjong" class="download-link github-link" target="_blank" rel="noopener noreferrer">
                                            View on GitHub
                                        </a>
                                    </div>
                                    </div>
                                    </div>
                        </section>
                                    </div>
                                    </div>

                {% elif project.id == 'parrot' %}
                <!-- Parrot Ordering 特殊布局 -->
                <div class="dwen-layout">
                    <!-- 标题区 -->
                    <div class="dwen-hero">
                        <h1 class="dwen-title" data-text="PARROT ORDERING">PARROT ORDERING</h1>
                        <p class="dwen-subtitle">
                            <span class="subtitle-decorator">◆</span>
                            Online Campus Food Ordering Platform
                            <span class="subtitle-decorator">◆</span>
                        </p>
                        <div class="dwen-meta-info">
                            <span class="meta-date">Sept. 2024 - Feb. 2025</span>
                            <span class="meta-divider-thick">|</span>
                            <span class="tech-stack">Flask · Python · SQLAlchemy · JavaScript · HTML/CSS · Bootstrap · SQLite</span>
                        </div>
                    </div>

                    <!-- 内容区块 -->
                    <div class="dwen-sections">
                        <!-- PROJECT OVERVIEW -->
                        <section class="dwen-section">
                            <h2 class="section-title">Project Overview</h2>
                            <div class="section-content">
                                <div class="function-container problem-statement-container">
                                    <p>Developed as a comprehensive web application for campus food ordering, Parrot Ordering is a full-stack platform that integrates multi-user role-based access control with complete ordering business workflows. The project explores modern web development by combining user authentication, real-time menu management, intelligent shopping cart systems, and social features within a responsive web environment. It was developed using Flask, SQLAlchemy, JavaScript, and Bootstrap, demonstrating full-stack web development capabilities with database design, API development, and user interface implementation.</p>
                                </div>
                            </div>
                        </section>

                        <!-- DEMO VIDEO -->
                        <section class="dwen-section">
                            <h2 class="section-title">Demo Video</h2>
                            <div class="section-content">
                                <div class="function-container">
                                    <p style="margin-bottom: 1rem; color: #fff;">This is the demonstration video of the Parrot Ordering platform.</p>
                                    <video controls class="container-video" id="parrotDemoVideo">
                                        <source src="{{ url_for('static', filename='media/parrot/demo_video.mp4') }}" type="video/mp4">
                                        Parrot Ordering Demo
                                    </video>
                                    </div>
                                    </div>
                        </section>

                        <!-- CORE FEATURES -->
                        <section class="dwen-section">
                            <h2 class="section-title">Core Features</h2>
                            <div class="section-content">
                                <div class="features-grid">
                                    <!-- Multi-User System -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Multi-User System</h3>
                                        <div class="feature-content">
                                            <p><strong>Role-Based Access Control:</strong> Three distinct user roles (Customer, Cook, Administrator) with specific permissions and functionalities</p>
                                            <p><strong>Secure Authentication:</strong> User registration, login, and session management with password encryption using Werkzeug</p>
                                            <p><strong>Profile Management:</strong> User profiles with avatar upload, personal information editing, and account management</p>
                                    </div>
                                    </div>

                                    <!-- Menu Management -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Menu Management</h3>
                                        <div class="feature-content">
                                            <p><strong>Daily Menu Publishing:</strong> Cooks can publish daily menus with available dishes and quantities</p>
                                            <p><strong>Real-time Inventory:</strong> Dynamic inventory tracking with automatic updates when orders are placed</p>
                                            <p><strong>Category Management:</strong> Organized dish categories (Desserts, Fast Food, Beverages, Hot Dishes, Vegetarian)</p>
                                            <p><strong>Dish Management:</strong> Complete CRUD operations for dishes with image upload and detailed descriptions</p>
                                    </div>
                                    </div>

                                    <!-- Ordering System -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Ordering System</h3>
                                        <div class="feature-content">
                                            <p><strong>Smart Shopping Cart:</strong> Add, update, and remove items with quantity validation</p>
                                            <p><strong>Order Processing:</strong> Complete order workflow from cart to submission with inventory updates</p>
                                            <p><strong>Order History:</strong> Comprehensive order tracking and history for customers</p>
                                            <p><strong>Real-time Updates:</strong> Dynamic menu availability and inventory management</p>
                                        </div>
                                    </div>

                                    <!-- Social Features -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Social Features</h3>
                                        <div class="feature-content">
                                            <p><strong>Friend System:</strong> Add friends, send friend requests, and manage friendships</p>
                                            <p><strong>Messaging System:</strong> Real-time messaging between customers with conversation history</p>
                                            <p><strong>Review System:</strong> Customer reviews for dishes with chef reply functionality</p>
                                            <p><strong>User Discovery:</strong> Search and find other users in the platform</p>
                                        </div>
                                    </div>

                                    <!-- Administrative Features -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Administrative Features</h3>
                                        <div class="feature-content">
                                            <p><strong>User Management:</strong> Comprehensive user account management with ban/unban functionality</p>
                                            <p><strong>Menu Oversight:</strong> Admin control over all menu items and categories</p>
                                            <p><strong>System Monitoring:</strong> User activity tracking and system administration tools</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- TECHNICAL IMPLEMENTATION -->
                        <section class="dwen-section">
                            <h2 class="section-title">Technical Implementation</h2>
                            <div class="section-content">
                                <div class="features-grid">
                                    <!-- Backend Architecture -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Backend Architecture</h3>
                                        <div class="feature-content">
                                            <p><strong>Flask Framework:</strong> RESTful API development with route handling and business logic</p>
                                            <p><strong>SQLAlchemy ORM:</strong> Database modeling and relationship management with SQLite</p>
                                            <p><strong>Werkzeug Security:</strong> Secure password hashing and file upload handling</p>
                                            <p><strong>Session Management:</strong> User authentication and state management</p>
                                    </div>
                                    </div>

                                    <!-- Frontend Development -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Frontend Development</h3>
                                        <div class="feature-content">
                                            <p><strong>JavaScript:</strong> Dynamic content loading and AJAX asynchronous communication</p>
                                            <p><strong>HTML/CSS:</strong> Responsive web design with Bootstrap framework</p>
                                            <p><strong>Interactive UI:</strong> Real-time updates, form validation, and user interactions</p>
                                            <p><strong>Responsive Design:</strong> Cross-platform compatibility for desktop and mobile devices</p>
                                    </div>
                                    </div>

                                    <!-- Database Design -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Database Design</h3>
                                        <div class="feature-content">
                                            <p><strong>Relational Database:</strong> Comprehensive data modeling with foreign key relationships</p>
                                            <p><strong>Data Integrity:</strong> Transaction management and database consistency</p>
                                            <p><strong>Optimized Queries:</strong> Efficient data retrieval and manipulation</p>
                                            <p><strong>Migration Support:</strong> Database version control and schema updates</p>
                                        </div>
                                    </div>

                                    <!-- File Management -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">File Management</h3>
                                        <div class="feature-content">
                                            <p><strong>Image Upload:</strong> Avatar and dish image upload with secure file handling</p>
                                            <p><strong>Static Assets:</strong> Organized static file management for images and stylesheets</p>
                                            <p><strong>File Validation:</strong> Type checking and size validation for uploaded files</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- PROJECT OUTCOMES -->
                        <section class="dwen-section">
                            <h2 class="section-title">Project Outcomes</h2>
                            <div class="section-content">
                                <div class="function-container doc-container">
                                    <h3 class="container-title">Design Documentation</h3>
                                    <p>Comprehensive design documentation including system architecture, database schema, API specifications, and user interface mockups. The documentation covers the complete development process from requirements analysis to final implementation.</p>
                                    <a href="{{ url_for('static', filename='media/parrotordering/design_doc.pdf') }}" class="download-link" download>
                                        Download Design Documentation
                                    </a>
                                </div>
                                
                                <div class="project-outcomes-box">
                                    <p>This project encompasses the full stack of web application development—from database design and backend API development to frontend interface design and user experience optimization. It combines secure user authentication, efficient business logic, and responsive design to deliver a comprehensive and user-friendly ordering platform. Through this development process, the team gained hands-on experience in system architecture, database design, API development, and modern web technologies.</p>
                                </div>
                                
                                <div class="function-container">
                                    <h3 class="container-title">Source Code</h3>
                                    <div class="doc-content">
                                        <p>View the complete project implementation and technical details on GitHub.</p>
                                        <a href="https://github.com/sukikatte/parrot_ordering" class="download-link github-link" target="_blank" rel="noopener noreferrer">
                                            View on GitHub
                                        </a>
                                </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>

                {% elif project.id == 'songs' %}
                <!-- Guess Songs 特殊布局 -->
                <div class="dwen-layout">
                    <!-- 标题区 -->
                    <div class="dwen-hero">
                        <h1 class="dwen-title" data-text="GUESS SONGS">GUESS SONGS</h1>
                        <p class="dwen-subtitle">
                            <span class="subtitle-decorator">◆</span>
                            Interactive Music Guessing Game
                            <span class="subtitle-decorator">◆</span>
                        </p>
                        <div class="dwen-meta-info">
                            <span class="meta-date">Sept. 2024 - Jan. 2025</span>
                            <span class="meta-divider-thick">|</span>
                            <span class="tech-stack">Android Studio · Java · Firebase · MediaPlayer API</span>
                        </div>
                        </div>
                        
                    <!-- 内容区块 -->
                    <div class="dwen-sections">
                        <!-- PROBLEM STATEMENT -->
                        <section class="dwen-section">
                            <h2 class="section-title">Problem Statement</h2>
                            <div class="section-content">
                                <!-- Problem Statement 子容器 -->
                                <div class="function-container problem-statement-container">
                                    <p>Developed as a learning output of Mobile Computing, Guess Songs is a lightweight Android app that integrates a music guessing game with a built-in player. The project explores interactive mobile entertainment by combining audio playback, real-time feedback, and user-driven gameplay. It was developed using Java, Firebase, and the Android SDK, demonstrating full-stack mobile development capability. It supports both single-player and multiplayer modes, enabling users to compete, discover songs, and enjoy an engaging social experience within a compact mobile environment.</p>
                        </div>
                    </div>
                        </section>

                        <!-- DEMO VIDEO -->
                        <section class="dwen-section">
                        <h2 class="section-title">Demo Video</h2>
                            <div class="section-content">
                                <div class="function-container">
                                    <p style="margin-bottom: 1rem; color: #fff;">This is the demonstration video I recorded for the Mobile Computing Project final version.</p>
                                    <video controls class="container-video" id="demoVideo">
                                        <source src="{{ url_for('static', filename='media/guesssong/final_video.mp4') }}" type="video/mp4">
                                        Final Project Demo
                                    </video>
                                </div>
                            </div>
                        </section>

                        <!-- CORE FEATURES -->
                        <section class="dwen-section">
                            <h2 class="section-title">Core Features</h2>
                            <div class="section-content">
                                <div class="features-grid">
                                    <!-- Game Modes -->
                                    <div class="game-modes-container">
                                        <h3 class="feature-title">Game Modes</h3>
                                        <div class="modes-grid">
                                            <div class="mode-card">
                                                <p><strong>Classic Mode:</strong> Single-player 10-question challenge with scoring based on speed and accuracy.</p>
                                    </div>
                                            <div class="mode-card">
                                                <p><strong>Endless Mode:</strong> 3-minute challenge. This leaderboard records each player's highest score and ranks all players.</p>
                                    </div>
                                            <div class="mode-card">
                                                <p><strong>Competitive Mode:</strong> Real-time multiplayer battles (3 players are needed) in a game room with live score tracking.</p>
                            </div>
                        </div>
                    </div>

                                    <!-- Music Library -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Music Library</h3>
                                        <div class="feature-content">
                                            <p>Browse, search, and manage songs.</p>
                                            <p>Support for user-uploaded tracks integrated into the game database.</p>
                            </div>
                        </div>

                                    <!-- Room Management -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Room Management</h3>
                                        <div class="feature-content">
                                            <p>Create and join game rooms with real-time status and score updates.</p>
                            </div>
                        </div>
                                </div>
                            </div>
                        </section>

                        <!-- TECHNICAL IMPLEMENTATION -->
                        <section class="dwen-section">
                            <h2 class="section-title">Technical Implementation</h2>
                            <div class="section-content">
                                <div class="features-grid">
                                    <!-- Audio Playback System -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Audio Playback System</h3>
                                        <div class="feature-content">
                                            <p>Built using Android MediaPlayer API with asynchronous network streaming, error handling, and custom playback controls.</p>
                            </div>
                        </div>

                                    <!-- Firebase Integration -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Firebase Integration</h3>
                                        <div class="feature-content">
                                            <p><strong>Realtime Database:</strong> Manages song metadata, user progress, and real-time updates.</p>
                                            <p><strong>Authentication:</strong> Handles user registration, login, and session management securely.</p>
                            </div>
                        </div>

                                    <!-- Intelligent Scoring System -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">Intelligent Scoring System</h3>
                                        <div class="feature-content">
                                            <p>Java backend processes game states and player scores with time- and accuracy-based dynamic algorithms.</p>
                            </div>
                        </div>

                                    <!-- UI & Navigation Design -->
                                    <div class="feature-card">
                                        <h3 class="feature-title">UI & Navigation Design</h3>
                                        <div class="feature-content">
                                            <p>Implemented with Material Design principles, gradient visual style, and smooth activity transitions for consistent user experience.</p>
                    </div>
                </div>
                                </div>
                            </div>
                        </section>

                        <!-- DOCUMENTATION -->
                        <section class="dwen-section">
                            <h2 class="section-title">Documentation</h2>
                            <div class="section-content">
                                <!-- Documentation 子容器 1 - Project Statement -->
                                <div class="function-container doc-container">
                                    <h3 class="container-title">Project Statement</h3>
                                    <p>Comprehensive project description and requirements analysis document outlining the project scope, objectives, and technical specifications.</p>
                                    <a href="{{ url_for('static', filename='media/guesssong/ProjectStatement.pdf') }}" class="download-link" download>
                                        Download Project Statement
                                    </a>
                                    </div>

                                <!-- Documentation 子容器 2 - Development Process -->
                                <div class="function-container doc-container">
                                    <h3 class="container-title">Development Process</h3>
                                    <p>Complete project development timeline including Alpha, Beta, and Final phases with detailed progress tracking and milestone achievements.</p>
                                    <a href="{{ url_for('static', filename='media/guesssong/guess_songs.pptx') }}" class="download-link" download>
                                        Download Development Process PPT
                                    </a>
                                    </div>
                                    </div>
                        </section>

                        <!-- PROJECT OUTCOMES -->
                        <section class="dwen-section">
                            <h2 class="section-title">Project Outcomes</h2>
                            <div class="section-content">
                                <!-- Lessons Learned -->
                                <div class="function-container">
                                    <h3 class="container-title">Lessons Learned</h3>
                                    <div class="doc-content">
                                        <p>This project was independently designed and developed, encompassing the full stack of Android application development—from frontend interface design to backend integration. It combines intuitive UI, efficient gameplay logic, and Firebase-based data management to deliver a seamless and interactive user experience. Through this process, I gained hands-on experience in system architecture, real-time synchronization, and mobile software optimization.</p>
                                    </div>
                                    </div>

                                <!-- GitHub Link -->
                                <div class="function-container">
                                    <h3 class="container-title">Source Code</h3>
                                    <div class="doc-content">
                                        <p>View the project source code and implementation details on GitHub (excluding sensitive API keys).</p>
                                        <a href="https://github.com/sukikatte/guess_songs" class="download-link github-link" target="_blank" rel="noopener noreferrer">
                                            View on GitHub
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>

                    <!-- 图片放大模态框 -->
                    <div id="imageModal" class="image-modal">
                        <span class="modal-close">&times;</span>
                        <img class="modal-content" id="modalImage">
                                    </div>

                    <!-- 设置视频默认音量 -->
                    <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            // 设置所有视频的默认音量为50%
                            const videoIds = ['demoVideo'];
                            videoIds.forEach(function(id) {
                                const video = document.getElementById(id);
                                if (video) {
                                    video.volume = 0.5;
                                }
                            });
                        });

                        // 图片放大功能
                        function openImageModal(src) {
                            const modal = document.getElementById('imageModal');
                            const modalImg = document.getElementById('modalImage');
                            modal.style.display = 'flex';
                            modalImg.src = src;
                            document.body.style.overflow = 'hidden';
                        }

                        // 关闭模态框
                        document.addEventListener('DOMContentLoaded', function() {
                            const modal = document.getElementById('imageModal');
                            const closeBtn = document.querySelector('.modal-close');

                            // 点击关闭按钮
                            closeBtn.onclick = function() {
                                modal.style.display = 'none';
                                document.body.style.overflow = 'auto';
                            }

                            // 点击模态框背景
                            modal.onclick = function(event) {
                                if (event.target === modal) {
                                    modal.style.display = 'none';
                                    document.body.style.overflow = 'auto';
                                }
                            }

                            // ESC键关闭
                            document.addEventListener('keydown', function(event) {
                                if (event.key === 'Escape' && modal.style.display === 'flex') {
                                    modal.style.display = 'none';
                                    document.body.style.overflow = 'auto';
                                }
                            });
                        });
                    </script>
                </div>

                {% elif project.id == 'dwen' %}
                <!-- Dwen Dwen's Neighbor 特殊布局 -->
                <div class="dwen-layout">
                    <!-- 标题区 -->
                    <div class="dwen-hero">
                        <h1 class="dwen-title" data-text="DWEN DWEN'S NEIGHBOR">DWEN DWEN'S NEIGHBOR</h1>
                        <p class="dwen-subtitle">
                            <span class="subtitle-decorator">◆</span>
                            Interactive Educational Platform for Wildlife Awareness
                            <span class="subtitle-decorator">◆</span>
                        </p>
                        <div class="dwen-meta-info">
                            <span class="meta-date">Feb. 2025 - Jun. 2025</span>
                            <span class="meta-divider-thick">|</span>
                            <span class="tech-stack">Python · Flask · Firebase · Web Crawler · ECharts · Layered SVG</span>
                        </div>
                    </div>

                    <!-- 内容区块 -->
                    <div class="dwen-sections">
                                <!-- PROBLEM STATEMENT -->
                        <section class="dwen-section">
                            <h2 class="section-title">Problem Statement</h2>
                            <div class="section-content">
                                <!-- Problem Statement 子容器 -->
                                <div class="function-container problem-statement-container">
                                    <div class="container-layout">
                                        <!-- 左侧视频区域 - 占6.5 -->
                                        <div class="container-left">
                                            <video controls class="container-video" id="problemStatementVideo">
                                        <source src="{{ url_for('static', filename='media/dwendwen/videos/bg/bg.mp4') }}" type="video/mp4">
                                        Problem Statement Overview
                                    </video>
                                </div>
                                        <!-- 右侧文字区域 - 占3.5 -->
                                        <div class="container-right">
                                            <p>Our customer, <em>Chinese Animal Guardians</em>, required a comprehensive solution for wildlife conservation education.</p>
                                            <p>Understanding their requirements and our innovative approach, <em>Dwen Dwen's Neighbor</em> was developed as an interactive educational platform that raises awareness about wildlife conservation through engaging digital experiences.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- FUNCTION IMPLEMENTATION -->
                        <section class="dwen-section">
                            <h2 class="section-title">Function Implementation</h2>
                            <div class="section-content">
                                <!-- Function Implementation 子容器 1 -->
                                <div class="function-container">
                                    <h3 class="container-title">01. Index & Account</h3>
                                    <div class="container-layout">
                                        <div class="container-left">
                                            <video controls class="container-video" id="video01">
                                                <source src="{{ url_for('static', filename='media/dwendwen/videos/index-account/index_account_demo.mp4') }}" type="video/mp4">
                                                Index & Account Demo
                                            </video>
                                        </div>
                                        <div class="container-right">
                                            <p><em>Firebase Firestore</em> provides real-time data synchronization and scalable cloud storage for user profiles and authentication.</p>
                                            <div class="tech-image">
                                                <img src="{{ url_for('static', filename='media/dwendwen/videos/index-account/img.png') }}" alt="Firebase Database Technology" onclick="openImageModal(this.src)" style="cursor: pointer;">
                                    </div>
                                        </div>
                                </div>
                            </div>

                                <!-- Function Implementation 子容器 2 -->
                                <div class="function-container">
                                    <h3 class="container-title">02. Encyclopedia</h3>
                                    <div class="container-layout">
                                        <div class="container-left">
                                            <video controls class="container-video" id="video02">
                                                <source src="{{ url_for('static', filename='media/dwendwen/videos/encyclopedia/encyclopedia_demo.mp4') }}" type="video/mp4">
                                                Encyclopedia Demo
                                            </video>
                                        </div>
                                        <div class="container-right">
                                            <p>Using open-source <em>SVG maps</em> as prototypes for interactive wildlife data visualization.</p>
                                            <div class="tech-image">
                                                <img src="{{ url_for('static', filename='media/dwendwen/videos/encyclopedia/img.jpg') }}" alt="SVG Maps Technology" onclick="openImageModal(this.src)" style="cursor: pointer;">
                                    </div>
                                        </div>
                    </div>
                </div>

                                <!-- Function Implementation 子容器 3 -->
                                <div class="function-container">
                                    <h3 class="container-title">03. Games</h3>
                                    <div class="container-layout">
                                        <div class="container-left">
                                            <video controls class="container-video" id="video03">
                                                <source src="{{ url_for('static', filename='media/dwendwen/videos/games/games_demo.mp4') }}" type="video/mp4">
                                                Games Demo
                                            </video>
                                        </div>
                                        <div class="container-right">
                                            <p>Page content is crawled from <em>Wikipedia</em> (English version) for comprehensive wildlife information.</p>
                                            <div class="tech-image">
                                                <img src="{{ url_for('static', filename='media/dwendwen/videos/games/img.png') }}" alt="Web Scraping Technology" onclick="openImageModal(this.src)" style="cursor: pointer;">
                                    </div>
                                        </div>
                                    </div>
                        </div>
                        
                                <!-- Function Implementation 子容器 4 -->
                                <div class="function-container">
                                    <h3 class="container-title">04. My Red Panda</h3>
                                    <div class="container-layout">
                                        <div class="container-left">
                                            <video controls class="container-video" id="video04">
                                                <source src="{{ url_for('static', filename='media/dwendwen/videos/virtual-panda/virtual_panda_demo.mp4') }}" type="video/mp4">
                                                My Red Panda Demo
                                            </video>
                                        </div>
                                        <div class="container-right">
                                            <p>Using <em>Sketch</em> to draw layered SVG for achieving Live2D effects with dynamic animations.</p>
                                            <div class="tech-image">
                                                <img src="{{ url_for('static', filename='media/dwendwen/videos/virtual-panda/sketch.jpg') }}" alt="Layered SVG Technology" onclick="openImageModal(this.src)" style="cursor: pointer;">
                                    </div>
                                        </div>
                        </div>
                    </div>

                                <!-- Function Implementation 子容器 5 -->
                                <div class="function-container">
                                    <h3 class="container-title">05. Community</h3>
                                    <div class="container-layout">
                                        <div class="container-left">
                                            <video controls class="container-video" id="video05">
                                                <source src="{{ url_for('static', filename='media/dwendwen/videos/community/community_demo.mp4') }}" type="video/mp4">
                                                Community Demo
                                            </video>
                                        </div>
                                        <div class="container-right">
                                            <p><strong>Community and Friends System</strong><br>Community layout design inspired by Xiaohongshu web interface for enhanced user engagement.</p>
                                            <p><em>Firebase Realtime Database</em> enables instant messaging and social interactions with real-time synchronization across all connected users.</p>
                                    </div>
                                        </div>
                    </div>

                                <!-- Function Implementation 子容器 6 -->
                                <div class="function-container">
                                    <h3 class="container-title">06. Donation & Profile</h3>
                                    <div class="container-layout">
                                        <div class="container-left">
                                            <video controls class="container-video" id="video06">
                                                <source src="{{ url_for('static', filename='media/dwendwen/videos/donation/donation_demo.mp4') }}" type="video/mp4">
                                                Donation Demo
                                            </video>
                            </div>
                                        <div class="container-right">
                                            <p><strong>Donation Section</strong><br>Integrated reward system with Firebase backend processes donation transactions and automatically distributes tiered gifts based on contribution amounts.</p>
                                            <p><strong>Profile Section</strong><br>Dynamic content aggregation combines Firebase data streams with responsive web design for personalized user experience and real-time updates.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- DOCUMENTATION -->
                        <section class="dwen-section">
                            <h2 class="section-title">Documentation</h2>
                            <div class="section-content">
                                <!-- Documentation 子容器 1 - System Documentation -->
                                <div class="function-container doc-container">
                                    <h3 class="container-title">System Documentation</h3>
                                    <p>Comprehensive technical documentation for system architecture, database design, and API specifications.</p>
                                    <a href="{{ url_for('static', filename='documents/system.pdf') }}" class="download-link" download>
                                        Download System Documentation
                                    </a>
                    </div>

                                <!-- Documentation 子容器 2 - User Documentation -->
                                <div class="function-container doc-container">
                                    <h3 class="container-title">User Documentation</h3>
                                    <p>User guides and tutorials for platform features, including step-by-step instructions and best practices.</p>
                                    <a href="{{ url_for('static', filename='documents/user.pdf') }}" class="download-link" download>
                                        Download User Documentation
                                    </a>
                        </div>
                            </div>
                        </section>

                        <!-- PROJECT OUTCOMES -->
                        <section class="dwen-section">
                            <h2 class="section-title">Project Outcomes</h2>
                            <div class="section-content">
                                <!-- Awards -->
                                <div class="function-container">
                                    <h3 class="container-title">Competition Achievement</h3>
                                    <div class="doc-content">
                                        <p><strong>Third Prize</strong> - Beijing University of Technology Innovation and Entrepreneurship Competition</p>
                            </div>
                        </div>

                                <!-- Personal Contribution -->
                                <div class="function-container">
                                    <h3 class="container-title">Personal Contribution</h3>
                                    <div class="doc-content">
                                        <p>As team leader, implemented full-stack development including frontend design, backend architecture, database integration, and deployment. Led data visualization and interactive features using Python Flask framework.</p>
                            </div>
                        </div>

                                <!-- GitHub Link -->
                                <div class="function-container">
                                    <h3 class="container-title">Source Code</h3>
                                    <div class="doc-content">
                                        <p>View the project source code and implementation details on GitHub (excluding sensitive configuration files).</p>
                                        <a href="https://github.com/sukikatte/dwen_dwens_neighbour" class="download-link github-link" target="_blank" rel="noopener noreferrer">
                                            View on GitHub
                                        </a>
                            </div>
                        </div>
                    </div>
                        </section>
                </div>

                    <!-- 图片放大模态框 -->
                    <div id="imageModal" class="image-modal">
                        <span class="modal-close">&times;</span>
                        <img class="modal-content" id="modalImage">
                    </div>

                    <!-- 设置视频默认音量 -->
                    <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            // 设置所有视频的默认音量为50%
                            const videoIds = ['demoVideo'];
                            videoIds.forEach(function(id) {
                                const video = document.getElementById(id);
                                if (video) {
                                    video.volume = 0.5;
                                }
                            });
                        });

                        // 图片放大功能
                        function openImageModal(src) {
                            const modal = document.getElementById('imageModal');
                            const modalImg = document.getElementById('modalImage');
                            modal.style.display = 'flex';
                            modalImg.src = src;
                            document.body.style.overflow = 'hidden';
                        }

                        // 关闭模态框
                        document.addEventListener('DOMContentLoaded', function() {
                            const modal = document.getElementById('imageModal');
                            const closeBtn = document.querySelector('.modal-close');

                            // 点击关闭按钮
                            closeBtn.onclick = function() {
                                modal.style.display = 'none';
                                document.body.style.overflow = 'auto';
                            }

                            // 点击模态框背景
                            modal.onclick = function(event) {
                                if (event.target === modal) {
                                    modal.style.display = 'none';
                                    document.body.style.overflow = 'auto';
                                }
                            }

                            // ESC键关闭
                            document.addEventListener('keydown', function(event) {
                                if (event.key === 'Escape' && modal.style.display === 'flex') {
                                    modal.style.display = 'none';
                                    document.body.style.overflow = 'auto';
                                }
                            });
                        });
                    </script>
                </div>
            {% elif project.id == 'medicine' %}
                <!-- Chinese Medicine 特殊布局 -->
                <div class="dwen-layout">
                    <!-- 标题区 -->
                    <div class="dwen-hero">
                        <h1 class="dwen-title" data-text="HUAXIA TCM">HUAXIA TCM</h1>
                        <p class="dwen-subtitle">
                            <span class="subtitle-decorator">◆</span>
                            Digital Preservation and Education System for Traditional Chinese Medicine Culture
                            <span class="subtitle-decorator">◆</span>
                        </p>
                        <div class="dwen-meta-info">
                            <span class="meta-date">Feb. 2025 - Jun. 2025</span>
                            <span class="meta-divider-thick">|</span>
                            <span class="tech-stack">Vue.js · Flask · SQLAlchemy · JWT · AI Integration · Bilingual Support</span>
                        </div>
                        <div class="dwen-github">
                            <a href="https://github.com/sukikatte/Chinese_traditional_medicine" target="_blank" class="github-link">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                </svg>
                                <span>GitHub Repository</span>
                            </a>
                        </div>
                    </div>

                    <!-- 内容区块 -->
                    <div class="dwen-sections">
                        <!-- PROJECT OVERVIEW -->
                        <section class="dwen-section">
                            <h2 class="section-title">Project Overview</h2>
                            <div class="section-content project-overview-box">
                                <p>Huaxia TCM Platform is a comprehensive full-stack web application designed to preserve and promote Traditional Chinese Medicine culture through modern digital technology.</p>
                                <p>The system integrates educational resources, interactive learning experiences, and AI-powered consultation services, making ancient medical knowledge accessible to contemporary learners worldwide.</p>
                                <p>Built with Vue.js and Flask, the platform features bilingual support (Chinese/English) and combines herb encyclopedia, prescription management, gamified learning, geographic visualization, and interactive storytelling into a unified educational ecosystem.</p>
                            </div>
                        </section>

                        <!-- CORE FUNCTIONS -->
                        <section class="dwen-section">
                            <h2 class="section-title">Core Functions</h2>
                            <div class="section-content">
                                <div class="core-functions-grid">
                                    <!-- 01. Herb Encyclopedia -->
                                    <div class="core-function-item">
                                        <div class="core-function-content">
                                            <h3>01. Herb Encyclopedia</h3>
                                            <p>Comprehensive database of 180+ medicinal herbs with bilingual descriptions, visual identification, and detailed properties</p>
                                        </div>
                                        <div class="core-function-video">
                                    <div class="video-placeholder">
                                                <p>📚 Herb Encyclopedia Demo</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 02. Prescription System -->
                                    <div class="core-function-item">
                                        <div class="core-function-content">
                                            <h3>02. Prescription System</h3>
                                            <p>Intelligent formula management with 260+ traditional prescriptions and fuzzy matching algorithm</p>
                                        </div>
                                        <div class="core-function-video">
                                            <div class="video-placeholder">
                                                <p>💊 Prescription Demo</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 03. Geographic Map -->
                                    <div class="core-function-item">
                                        <div class="core-function-content">
                                            <h3>03. Geographic Map</h3>
                                            <p>Interactive visualization of medicinal plant distributions across different regions and climates</p>
                                        </div>
                                        <div class="core-function-video">
                                            <div class="video-placeholder">
                                                <p>🗺️ Geographic Demo</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 04. Story Mode -->
                                    <div class="core-function-item">
                                        <div class="core-function-content">
                                            <h3>04. Story Mode</h3>
                                            <p>Branching narratives that embed TCM knowledge in engaging gameplay experiences</p>
                                        </div>
                                        <div class="core-function-video">
                                            <div class="video-placeholder">
                                                <p>📖 Story Mode Demo</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 05. Quiz System -->
                                    <div class="core-function-item">
                                        <div class="core-function-content">
                                            <h3>05. Quiz System</h3>
                                            <p>Gamified learning with leaderboard, performance tracking, and adaptive difficulty</p>
                                        </div>
                                        <div class="core-function-video">
                                            <div class="video-placeholder">
                                                <p>🎯 Quiz Demo</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 06. AI Consultation -->
                                    <div class="core-function-item">
                                        <div class="core-function-content">
                                            <h3>06. AI Consultation</h3>
                                            <p>Personalized health advice via OpenAI and Coze integration with safety protocols</p>
                                        </div>
                                        <div class="core-function-video">
                                            <div class="video-placeholder">
                                                <p>🤖 AI Consultation Demo</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- TECHNICAL ARCHITECTURE -->
                        <section class="dwen-section">
                            <h2 class="section-title">Technical Architecture</h2>
                            <div class="section-content">
                                <div class="architecture-grid">
                                    <div class="architecture-item">
                                        <h3>Backend Infrastructure</h3>
                                        <p>Flask 3.1.0 with Blueprint modules, SQLAlchemy ORM, JWT authentication, and Gunicorn deployment with 11 RESTful API modules.</p>
                                    </div>
                                    <div class="architecture-item">
                                        <h3>Frontend Framework</h3>
                                        <p>Vue.js with Vite, Vue Router, i18n internationalization, and responsive mobile-first design approach.</p>
                                    </div>
                                    <div class="architecture-item">
                                        <h3>AI Integration</h3>
                                        <p>OpenAI API and Coze platform integration for intelligent consultation with safety protocols and response filtering.</p>
                        </div>
                                    <div class="architecture-item">
                                        <h3>Data Management</h3>
                                        <p>440+ database records (180 herbs + 260 prescriptions) across 50+ RESTful API endpoints with comprehensive logging.</p>
                        </div>
                                </div>
                            </div>
                        </section>

                        <!-- ACHIEVEMENTS & IMPACT -->
                        <section class="dwen-section">
                            <h2 class="section-title">Achievements & Impact</h2>
                            <div class="section-content">
                                <div class="achievement-highlights">
                                    <div class="achievement-item">
                                        <span class="achievement-icon">🏆</span>
                                        <div class="achievement-content">
                                            <h3>Third Prize</h3>
                                            <p>"Gongda Cup" Innovation and Entrepreneurship Competition at Beijing University of Technology</p>
                                    </div>
                                    </div>
                                    <div class="achievement-item">
                                        <span class="achievement-icon">🌐</span>
                                        <div class="achievement-content">
                                            <h3>Bilingual Support</h3>
                                            <p>Complete Chinese/English localization making TCM knowledge accessible globally</p>
                                    </div>
                                    </div>
                                    <div class="achievement-item">
                                        <span class="achievement-icon">🎯</span>
                                        <div class="achievement-content">
                                            <h3>Educational Impact</h3>
                                            <p>Gamified learning system with adaptive difficulty and performance tracking</p>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            {% elif project.id == 'mahjong' %}
                <!-- Digital Mahjong 特殊布局 -->
                <div class="dwen-layout">
                    <!-- 标题区 -->
                    <div class="dwen-hero">
                        <h1 class="dwen-title" data-text="DIGITAL MAHJONG">DIGITAL MAHJONG</h1>
                        <p class="dwen-subtitle">
                            <span class="subtitle-decorator">◆</span>
                            Algorithmic Thinking Meets User Experience
                            <span class="subtitle-decorator">◆</span>
                        </p>
                        <div class="dwen-meta-info">
                            <span class="meta-date">Early Work</span>
                            <span class="meta-divider-thick">|</span>
                            <span class="tech-stack">Python · Algorithm Design · Game Logic</span>
                        </div>
                    </div>

                    <!-- 内容区块 -->
                    <div class="dwen-sections">
                        <!-- PROBLEM STATEMENT -->
                        <section class="dwen-section">
                            <h2 class="section-title">Problem Statement</h2>
                            <div class="section-content">
                                <div class="function-container problem-statement-container">
                                    <div class="container-layout">
                                        <div class="container-left">
                                            <p>This was my first complete project, aiming to implement a fully functional mahjong game using Python. The focus was on algorithm design: scoring calculation, winning detection, AI opponents, and other core logic.</p>
                                            <p>The main challenges included complex rule systems and state management, with the learning goal of mastering algorithm design, data structures, and game logic.</p>
                                    </div>
                                        <div class="container-right">
                                            <div class="tech-image">
                                    <div class="video-placeholder">
                                                    <p>🀄 Mahjong Demo</p>
                                    </div>
                                    </div>
                                    </div>
                                </div>
                                </div>
                            </div>
                        </section>

                        <!-- REFLECTION -->
                        <section class="dwen-section">
                            <h2 class="section-title">Reflection</h2>
                            <div class="section-content">
                                <div class="achievement-highlights">
                                    <div class="achievement-item">
                                        <span class="achievement-icon">💡</span>
                                        <div class="achievement-content">
                                            <h3>Turning Point</h3>
                                            <p>After completion, teacher feedback: "Functionally complete, but lacks user thinking." This became my turning point.</p>
                                    </div>
                                    </div>
                                    <div class="achievement-item">
                                        <span class="achievement-icon">🎯</span>
                                        <div class="achievement-content">
                                            <h3>Key Learning</h3>
                                            <p>Started thinking: What do users really need? How to make games more usable? How to make interfaces more intuitive?</p>
                                        </div>
                                    </div>
                                    <div class="achievement-item">
                                        <span class="achievement-icon">🚀</span>
                                        <div class="achievement-content">
                                            <h3>Foundation</h3>
                                            <p>This project defined my future direction - from "programmer" to "designer", focusing on user needs in all subsequent projects.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            {% elif project.id == 'parrot' %}
                <!-- Parrot Ordering System 特殊布局 -->
                <div class="dwen-layout">
                    <!-- 标题区 -->
                    <div class="dwen-hero">
                        <h1 class="dwen-title" data-text="PARROT ORDERING">PARROT ORDERING</h1>
                        <p class="dwen-subtitle">
                            <span class="subtitle-decorator">◆</span>
                            Designing Seamless Workflows
                            <span class="subtitle-decorator">◆</span>
                        </p>
                        <div class="dwen-meta-info">
                            <span class="meta-date">Full-Stack Project</span>
                            <span class="meta-divider-thick">|</span>
                            <span class="tech-stack">Full-Stack · AJAX · Firebase · UX Design</span>
                        </div>
                    </div>

                    <!-- 内容区块 -->
                    <div class="dwen-sections">
                        <!-- PROBLEM STATEMENT -->
                        <section class="dwen-section">
                            <h2 class="section-title">Problem Statement</h2>
                            <div class="section-content">
                                <div class="function-container problem-statement-container">
                                    <div class="container-layout">
                                        <div class="container-left">
                                            <p>Restaurant ordering systems need to coordinate multiple roles (customers, chefs, administrators). Traditional systems have complex processes and lack transparency.</p>
                                            <p>A comprehensive system is needed where each role can efficiently complete tasks while maintaining a smooth experience.</p>
                                    </div>
                                        <div class="container-right">
                                            <div class="tech-image">
                                                <div class="video-placeholder">
                                                    <p>🦜 Parrot Demo</p>
                                    </div>
                                    </div>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- CORE FUNCTIONS -->
                        <section class="dwen-section">
                            <h2 class="section-title">Core Functions</h2>
                            <div class="section-content">
                                <div class="core-functions-grid">
                                    <div class="core-function-item">
                                        <div class="core-function-content">
                                            <h3>Customer Interface</h3>
                                            <p>Browse menu → Quick ordering → Track status</p>
                                    </div>
                                    </div>
                                    <div class="core-function-item">
                                        <div class="core-function-content">
                                            <h3>Chef Interface</h3>
                                            <p>Receive orders → Mark progress → Completion notification</p>
                                    </div>
                                    </div>
                                    <div class="core-function-item">
                                        <div class="core-function-content">
                                            <h3>Admin Interface</h3>
                                            <p>Statistics → Menu management → User management</p>
                                </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- REFLECTION -->
                        <section class="dwen-section">
                            <h2 class="section-title">Reflection</h2>
                            <div class="section-content">
                                <div class="achievement-highlights">
                                    <div class="achievement-item">
                                        <span class="achievement-icon">🎨</span>
                                        <div class="achievement-content">
                                            <h3>Workflow Design</h3>
                                            <p>First time designing a multi-role system, learned to think from different perspectives. Most importantly learned "workflow design" - how to make complex processes simple and efficient.</p>
                                        </div>
                                    </div>
                                    <div class="achievement-item">
                                        <span class="achievement-icon">⚡</span>
                                        <div class="achievement-content">
                                            <h3>Real-time Sync</h3>
                                            <p>Full-stack development helped me understand how frontend and backend work together. Real-time synchronization improves collaboration efficiency.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            {% else %}
                <!-- 其他项目的默认布局 -->
                <div class="project-header">
                    <h1 class="project-title">{{ project.title }}</h1>
                </div>
            {% endif %}
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/project_detail.js') }}"></script>
    
    <script>
    // 图片放大功能
    function openImageModal(src) {
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        modal.style.display = 'block';
        modalImg.src = src;
    }

    function closeImageModal() {
        const modal = document.getElementById('imageModal');
        modal.style.display = 'none';
    }

    // 点击模态框背景关闭
    window.onclick = function(event) {
        const modal = document.getElementById('imageModal');
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    }

    // ESC键关闭模态框
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            const modal = document.getElementById('imageModal');
            modal.style.display = 'none';
        }
    });
    </script>
</body>
</html>

