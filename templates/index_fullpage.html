<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zitong Wang - Portfolio</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/fullpage.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Cormorant+Garamond:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.4.0/css/all.css">
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <!-- èƒŒæ™¯å›¾ç‰‡ -->
    <div class="bg-image"></div>
    
    <!-- ç½‘æ ¼æ˜Ÿç©ºèƒŒæ™¯ç”»å¸ƒ -->
    <canvas id="bgCanvas" class="bg-canvas"></canvas>
    
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#home" class="nav-logo">
                <span class="logo-name"></span><span class="logo-separator"> / </span><span class="logo-portfolio"></span>
            </a>
            <ul class="nav-menu">
                <li><a href="#home" class="nav-link home-icon-link" data-section="0">
                    <i class="fa-solid fa-star-of-david"></i>
                </a></li>
                <li><a href="#projects" class="nav-link" data-section="1">Project</a></li>
                <li><a href="#experiments" class="nav-link" data-section="2">Creative Dimension</a></li>
                <li><a href="#connect" class="nav-link" data-section="3">contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- ä¾§è¾¹å¯¼èˆªç‚¹ -->
    <div class="side-nav">
        <div class="nav-dot active" data-section="0" title="ğŸŒ Home"></div>
        <div class="nav-dot" data-section="1" title="Project"></div>
        <div class="nav-dot" data-section="2" title="Creative Dimension"></div>
        <div class="nav-dot" data-section="3" title="contact"></div>
    </div>

    <!-- é”®ç›˜æç¤ºï¼ˆåªåœ¨é¦–é¡µæ˜¾ç¤ºï¼‰ -->
    <div class="keyboard-hint">
        <div class="key-hint">
            <span class="key">â†‘</span>
            <span class="key">â†“</span>
        </div>
        <span class="hint-text">use directional keys to navigate</span>
    </div>
    
    <!-- æ»šåŠ¨æç¤ºï¼ˆä¸€ç›´æ˜¾ç¤ºï¼‰ -->
    <div class="scroll-hint">
        <div class="cube-hint" id="cubeHint" style="display: none;">Click cube faces to explore creative works</div>
        <div class="scroll-text">Scroll to explore</div>
        <div class="scroll-arrow">â†“</div>
    </div>

    <!-- å…¨å±å®¹å™¨ -->
    <div class="fullpage-container">
        
        <!-- Section 0: Home / Hero -->
        <section class="fullpage-section active" id="home">
            <!-- Three.js æ˜Ÿç©ºèƒŒæ™¯ç”»å¸ƒ -->
            <canvas id="starsCanvas" class="stars-canvas"></canvas>
            <!-- è£…é¥°å›¾ç‰‡ -->
            <img src="{{ url_for('static', filename='images/å·¦ä¸Š.png') }}" alt="å·¦ä¸Šè£…é¥°" class="home-image home-image-top-left">
            <img src="{{ url_for('static', filename='images/å³ä¸Š.png') }}" alt="å³ä¸Šè£…é¥°" class="home-image home-image-top-right">
            <img src="{{ url_for('static', filename='images/å³ä¸‹.png') }}" alt="å³ä¸‹è£…é¥°" class="home-image home-image-bottom-right">
            <!-- èŒä¸šæè¿° -->
            <div class="home-subtitle">Software Engineer & Creative Developer</div>
        </section>

        <!-- Section 1: Projects -->
        <section class="fullpage-section" id="projects">
            <!-- Three.js æ˜Ÿç©ºèƒŒæ™¯ç”»å¸ƒ -->
            <canvas id="projectsCanvas" class="stars-canvas"></canvas>
            <div class="section-content">
                <!-- æ¨ªå‘æ»‘åŠ¨é¡¹ç›®å±•ç¤º -->
                <div class="projects-slider-wrapper">
                    <div class="projects-slider-container">
                        <!-- Project 1: Dwen Dwen's Neighbor -->
                        <div class="projects-slide" data-project-id="dwen">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--dwen">
                                    <span class="dwen-blob" aria-hidden="true"></span>
                                    <div class="project-symbol project-symbol--dwen"><i class="fa-solid fa-paw"></i></div>
                                </div>
                                <h3 class="projects-project-name">Dwen Dwen's Neighbor</h3>
                                <p class="projects-year">WEB Â· Interactive</p>
                            </div>
                        </div>
                        
                        <!-- Project 2: Chinese Medicine -->
                        <div class="projects-slide" data-project-id="medicine">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--medicine">
                                    <span class="card-blob" aria-hidden="true"></span>
                                    <div class="project-symbol project-symbol--medicine"><i class="fa-solid fa-spa"></i></div>
                                </div>
                                <h3 class="projects-project-name">Chinese Medicine</h3>
                                <p class="projects-year">WEB Â· Intelligent</p>
                            </div>
                        </div>
                        
                        <!-- Project 3: Guess Songs -->
                        <div class="projects-slide" data-project-id="songs">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--songs">
                                    <span class="card-blob" aria-hidden="true"></span>
                                    <div class="project-symbol project-symbol--songs"><i class="fa-solid fa-music"></i></div>
                                </div>
                                <h3 class="projects-project-name">Guess Songs</h3>
                                <p class="projects-year">MOBILE Â· Android</p>
                            </div>
                        </div>
                        
                        <!-- Project 4: Digital Mahjong -->
                        <div class="projects-slide" data-project-id="mahjong">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--mahjong">
                                    <span class="card-blob" aria-hidden="true"></span>
                                    <div class="project-symbol project-symbol--mahjong"><i class="fa-solid fa-dice"></i></div>
                                </div>
                                <h3 class="projects-project-name">Digital Mahjong</h3>
                                <p class="projects-year">GAME Â· Logic</p>
                            </div>
                        </div>
                        
                        <!-- Project 5: Parrot Ordering -->
                        <div class="projects-slide" data-project-id="parrot">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--parrot">
                                    <span class="card-blob" aria-hidden="true"></span>
                                    <div class="project-symbol project-symbol--parrot"><i class="fa-solid fa-utensils"></i></div>
                                </div>
                                <h3 class="projects-project-name">Parrot Ordering</h3>
                                <p class="projects-year">WEB Â· Workflow</p>
                            </div>
                        </div>
                        
                        <!-- Project 6: Event Management -->
                        <div class="projects-slide" data-project-id="event">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--event">
                                    <span class="card-blob" aria-hidden="true"></span>
                                    <div class="project-symbol project-symbol--event"><i class="fa-solid fa-ticket"></i></div>
                                </div>
                                <h3 class="projects-project-name">Event Management</h3>
                                <p class="projects-year">SYSTEM Â· Architecture</p>
                            </div>
                        </div>
                        
                        <!-- Project 7: Frankenstories -->
                        <div class="projects-slide" data-project-id="franken">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--franken">
                                    <span class="card-blob" aria-hidden="true"></span>
                                    <div class="project-symbol project-symbol--franken"><i class="fa-solid fa-robot"></i></div>
                                </div>
                                <h3 class="projects-project-name">Frankenstories</h3>
                                <p class="projects-year">AI Â· Creative</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- å¯¼èˆªæ§åˆ¶ - ç‹¬ç«‹å±…ä¸­ -->
                <div class="projects-nav">
                    <button class="projects-nav-btn prev">â€¹</button>
                    <div class="projects-indicators">
                        <span class="projects-indicator active" data-index="0"></span>
                        <span class="projects-indicator" data-index="1"></span>
                        <span class="projects-indicator" data-index="2"></span>
                        <span class="projects-indicator" data-index="3"></span>
                        <span class="projects-indicator" data-index="4"></span>
                        <span class="projects-indicator" data-index="5"></span>
                        <span class="projects-indicator" data-index="6"></span>
                    </div>
                    <button class="projects-nav-btn next">â€º</button>
                </div>
            </div>
        </section>

        <!-- Section 2: Creative Dimension -->
        <section class="fullpage-section" id="experiments">
            <!-- èƒŒæ™¯å›¾ç‰‡ -->
            <div class="creative-bg-image"></div>
            <!-- Three.js æ˜Ÿç©ºèƒŒæ™¯ç”»å¸ƒ -->
            <canvas id="experimentsCanvas" class="stars-canvas"></canvas>
            <div class="section-content">
                <!-- Creative Dimension - ç«‹æ–¹ä½“åŠ¨ç”» -->
                <div id="creativeContainer" class="relative mt-20 mb-8 pt-10">
                    <!-- ç«‹æ–¹ä½“åŠ¨ç”»å®¹å™¨ -->
                    <div class="cube-animation-container">
                        <div class="cube-wrapper">
                            <div class="cube">
                                <div class="face front"></div>
                                <div class="face back"></div>
                                <div class="face right"></div>
                                <div class="face left"></div>
                                <div class="face top"></div>
                                <div class="face bottom"></div>
                            </div>
                        </div>
                        <!-- MUSICæ ‡ç­¾å®¹å™¨ -->
                        <div class="music-label">MUSIC</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Contact -->
        <section class="fullpage-section" id="connect">
            <!-- Three.js æ˜Ÿç©ºèƒŒæ™¯ç”»å¸ƒ -->
            <canvas id="contactCanvas" class="stars-canvas"></canvas>
            <div class="section-content">
                <div class="contact-layout">
                    <!-- å·¦ä¾§å†…å®¹åŒºåŸŸ -->
                    <div class="contact-left-section">
                        <!-- æ ‡é¢˜ -->
                        <div class="contact-header">
                            <h2 class="contact-title">My Contact Info</h2>
                            <div class="contact-intro">
                                Thank you for visiting my portfolio.<br>If you have any questions regarding my work or academic background,<br>please feel free to contact me.
                            </div>
                        </div>
                        
                        <!-- åŸºæœ¬ä¿¡æ¯åŒº -->
                        <div class="contact-info-container">
                            <div class="contact-info-section">
                                <div class="contact-info-item">
                                    <span class="contact-label">Application Email:</span>
                                    <a href="mailto:18518599155@163.com" class="contact-link">18518599155@163.com</a>
                                </div>
                                
                                <div class="contact-info-item">
                                    <span class="contact-label">University Email:</span>
                                    <a href="mailto:zitong.wang@ucdconnect.ie" class="contact-link">zitong.wang@ucdconnect.ie</a>
                                </div>
                                
                                <div class="contact-info-item">
                                    <span class="contact-label">Location:</span>
                                    <a href="#" class="contact-link">Dublin, Ireland | Beijing, China</a>
                                </div>
                                
                                <div class="contact-info-item">
                                    <span class="contact-label">GitHub / Portfolio:</span>
                                    <a href="https://github.com/sukikatte" target="_blank" class="contact-link">github.com/sukikatte</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- å³ä¾§æ„Ÿè°¢åŒºåŸŸ -->
                    <div class="contact-right-section">
                        <div class="contact-closing">
                            Thank you for your time and consideration.
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- Lightbox Modal -->
    <div id="lightboxModal" class="lightbox-modal">
        <span class="lightbox-close">&times;</span>
        <img class="lightbox-content" id="lightboxImage" src="" alt="">
    </div>

    <!-- Video Modal -->
    <div id="videoModal" class="lightbox-modal">
        <span class="lightbox-close">&times;</span>
        <video class="lightbox-content" id="lightboxVideo" controls>
            <source src="" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <!-- ç«‹æ–¹ä½“å¼¹çª— -->
    <div id="cubeModal" class="cube-modal">
        <div class="cube-modal-content">
            <h2>ç«‹æ–¹ä½“äº¤äº’</h2>
            <p>æ‚¨ç‚¹å‡»äº†ç«‹æ–¹ä½“çš„ä¸€ä¸ªé¢ï¼è¿™æ˜¯ä¸€ä¸ª3Dç«‹æ–¹ä½“ï¼Œå±•ç¤ºäº†ä¸åŒçš„åˆ›ä½œç»´åº¦ã€‚</p>
            <button class="cube-modal-close" onclick="closeCubeModal()">å…³é—­</button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/fullpage.js') }}"></script>
    <script src="{{ url_for('static', filename='js/stars.js') }}"></script>
    
    <!-- Logo Typewriter Effect -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const logoName = document.querySelector('.logo-name');
            const logoPortfolio = document.querySelector('.logo-portfolio');
            
            const nameText = 'Zitong Wang';
            const portfolioText = 'Portfolio';
            
            let nameIndex = 0;
            let portfolioIndex = 0;
            let isTypingName = true;
            
            function typeWriter() {
                if (isTypingName) {
                    if (nameIndex < nameText.length) {
                        logoName.textContent = nameText.substring(0, nameIndex + 1);
                        nameIndex++;
                        setTimeout(typeWriter, 100);
                    } else {
                        // åå­—æ‰“å®Œï¼Œç­‰å¾…ä¸€ä¸‹ç„¶åå¼€å§‹æ‰“portfolio
                        setTimeout(() => {
                            isTypingName = false;
                            typeWriter();
                        }, 300);
                    }
                } else {
                    if (portfolioIndex < portfolioText.length) {
                        logoPortfolio.textContent = portfolioText.substring(0, portfolioIndex + 1);
                        portfolioIndex++;
                        setTimeout(typeWriter, 100);
                    }
                    // portfolioæ‰“å®Œå°±å®Œæˆäº†
                }
            }
            
            // å¯åŠ¨æ‰“å­—æ•ˆæœ
            typeWriter();
        });
    </script>
    
    <!-- Creative Dimension Book-style Script -->
    <script>
        // Book-style Creative Dimension functionality
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–Creative Dimensioné¡µé¢å…ƒç´ çŠ¶æ€
            const creativeBg = document.querySelector('.creative-bg-image');
            const experimentsCanvas = document.getElementById('experimentsCanvas');
            
            // ç¡®ä¿èƒŒæ™¯å›¾ç‰‡åˆå§‹çŠ¶æ€æ­£ç¡®è®¾ç½®
            if (creativeBg) {
                // ç§»é™¤å¯èƒ½çš„å†…è”æ ·å¼ï¼Œè®©CSSæ§åˆ¶
                creativeBg.style.opacity = '';
                creativeBg.style.visibility = '';
                creativeBg.style.animation = '';
                creativeBg.style.filter = '';
            }
            
            // ç¡®ä¿æ˜Ÿç©ºç”»å¸ƒåˆå§‹çŠ¶æ€æ˜¾ç¤º
            if (experimentsCanvas) {
                experimentsCanvas.style.opacity = '1';
            }
            
            // ç¡®ä¿ç«‹æ–¹ä½“åˆå§‹çŠ¶æ€æ­£ç¡® - è®©IntersectionObserverå¤„ç†æ‰€æœ‰æ˜¾ç¤ºé€»è¾‘
            const cubeWrapper = document.querySelector('.cube-wrapper');
            if (cubeWrapper) {
                console.log('Cube wrapper found, letting IntersectionObserver handle display');
            } else {
                console.error('Cube wrapper not found!');
            }
            
            // ç«‹æ–¹ä½“åŠ¨ç”»é‡ç½®å‡½æ•° - ç”¨äºé¡µé¢åˆ‡æ¢æ—¶é‡æ–°è§¦å‘åˆå§‹åŠ¨ç”»
            function resetCubeAnimation() {
                if (cubeWrapper) {
                    // åœæ­¢å½“å‰åŠ¨ç”»
                    cubeWrapper.style.animation = 'none';
                    
                    // å¼ºåˆ¶é‡ç»˜
                    void cubeWrapper.offsetWidth;
                    
                    // é‡æ–°å¼€å§‹åˆå§‹åŠ¨ç”»
                    cubeWrapper.style.animation = 'creativeCubeRotate 4s ease-in-out forwards';
                    console.log('Cube animation reset - initial animation restarted');
                    
                    // 4ç§’ååˆ‡æ¢åˆ°å¾ªç¯åŠ¨ç”»
                    setTimeout(() => {
                        cubeWrapper.style.animation = 'creativeCubeLoop 40s ease-in-out infinite';
                        console.log('Cube animation reset - switched to loop animation');
                    }, 4000);
                }
            }
            
            // Musicé¢„è§ˆåŠŸèƒ½
            window.openMusicPreview = function(src, title, description, type = 'image') {
                const modal = document.getElementById('musicPreviewModal');
                
                if (!modal) {
                    console.error('Music preview modal not found!');
                    return;
                }
                
                const mediaContainer = modal.querySelector('.music-preview-media');
                const titleElement = modal.querySelector('.music-preview-title');
                const descElement = modal.querySelector('.music-preview-description');
                
                // è®¾ç½®æ ‡é¢˜å’Œæè¿°
                titleElement.textContent = title;
                descElement.textContent = description;
                
                // æ¸…ç©ºåª’ä½“å®¹å™¨
                mediaContainer.innerHTML = '';
                
                if (type === 'video') {
                    // åˆ›å»ºè§†é¢‘å…ƒç´ 
                    const video = document.createElement('video');
                    video.src = src;
                    video.controls = true;
                    video.autoplay = true;
                    video.volume = 0.5; // è®¾ç½®é»˜è®¤éŸ³é‡ä¸ºä¸€åŠ
                    video.className = 'music-preview-video';
                    mediaContainer.appendChild(video);
                } else {
                    // åˆ›å»ºå›¾ç‰‡å…ƒç´ 
                    const img = document.createElement('img');
                    img.src = src;
                    img.alt = title;
                    img.className = 'music-preview-image';
                    mediaContainer.appendChild(img);
                }
                
                // æ˜¾ç¤ºæ¨¡æ€çª—å£
                modal.style.display = 'flex';
            };
            
            // å…³é—­Musicé¢„è§ˆ
            window.closeMusicPreview = function() {
                const modal = document.getElementById('musicPreviewModal');
                modal.style.display = 'none';
                
                // åœæ­¢è§†é¢‘æ’­æ”¾
                const video = modal.querySelector('video');
                if (video) {
                    video.pause();
                    video.currentTime = 0;
                }
            };
            
            // ç‚¹å‡»å¤–éƒ¨å…³é—­é¢„è§ˆ
            document.addEventListener('click', function(e) {
                const modal = document.getElementById('musicPreviewModal');
                if (modal && modal.style.display === 'flex') {
                    // åªæ£€æµ‹ç‚¹å‡»æ¨¡æ€çª—å£èƒŒæ™¯åŒºåŸŸ
                    if (e.target === modal) {
                        closeMusicPreview();
                    }
                }
            });
            
            // å¤„ç†ç‚¹å‡»Musicå°çª—å¤–åŒºåŸŸå…³é—­è§†é¢‘
            document.addEventListener('click', function(e) {
                const modal = document.getElementById('musicPreviewModal');
                const musicModal = document.getElementById('cubeModal');
                
                // å¦‚æœMusicé¢„è§ˆçª—å£æ‰“å¼€ï¼Œä¸”ç‚¹å‡»çš„ä¸æ˜¯Musicå°çª—å†…çš„ä»»ä½•å…ƒç´ 
                if (modal && modal.style.display === 'flex' && musicModal && musicModal.style.display === 'block') {
                    const musicContent = musicModal.querySelector('.cube-modal-content');
                    if (musicContent && !musicContent.contains(e.target) && !modal.contains(e.target)) {
                        closeMusicPreview();
                    }
                }
            });
            
            // Painting GalleryåŠŸèƒ½
            const paintingImages = [
                '/static/media/creative-dimension/art/1.JPG',
                '/static/media/creative-dimension/art/2.JPG',
                '/static/media/creative-dimension/art/3.JPG',
                '/static/media/creative-dimension/art/4.JPG',
                '/static/media/creative-dimension/art/5.JPG',
                '/static/media/creative-dimension/art/6.JPG',
                '/static/media/creative-dimension/art/7.JPG',
                '/static/media/creative-dimension/art/8.JPG',
                '/static/media/creative-dimension/art/9.JPG'
            ];
            
            let currentPaintingIndex = 0;
            
            // æ‰“å¼€Paintingé¢„è§ˆ
            window.openPaintingPreview = function(src, index) {
                currentPaintingIndex = index;
                const modal = document.getElementById('paintingPreviewModal');
                const image = document.getElementById('paintingPreviewImage');
                
                if (image) {
                    image.src = src;
                    image.alt = `Painting ${index + 1}`;
                    
                    // æ£€æµ‹å›¾ç‰‡å®½é«˜æ¯”å¹¶è°ƒæ•´å®¹å™¨
                    image.onload = function() {
                        const aspectRatio = image.naturalWidth / image.naturalHeight;
                        const imageElement = image;
                        
                        if (aspectRatio < 1) {
                            // ç«–å›¾ï¼šé«˜åº¦å¤§äºå®½åº¦
                            imageElement.style.maxWidth = '60vh';
                            imageElement.style.maxHeight = '95vh';
                        } else {
                            // æ¨ªå›¾æˆ–æ­£æ–¹å½¢ï¼šå®½åº¦å¤§äºç­‰äºé«˜åº¦
                            imageElement.style.maxWidth = '90vw';
                            imageElement.style.maxHeight = '60vh';
                        }
                    };
                }
                
                modal.style.display = 'flex';
            };
            
            // å…³é—­Paintingé¢„è§ˆ
            window.closePaintingPreview = function() {
                const modal = document.getElementById('paintingPreviewModal');
                modal.style.display = 'none';
            };
            
            // ä¸Šä¸€å¼ Painting
            window.previousPainting = function() {
                currentPaintingIndex = (currentPaintingIndex - 1 + paintingImages.length) % paintingImages.length;
                const image = document.getElementById('paintingPreviewImage');
                if (image) {
                    image.src = paintingImages[currentPaintingIndex];
                    image.alt = `Painting ${currentPaintingIndex + 1}`;
                    
                    // æ£€æµ‹å›¾ç‰‡å®½é«˜æ¯”å¹¶è°ƒæ•´å®¹å™¨
                    image.onload = function() {
                        const aspectRatio = image.naturalWidth / image.naturalHeight;
                        
                        if (aspectRatio < 1) {
                            // ç«–å›¾ï¼šé«˜åº¦å¤§äºå®½åº¦
                            image.style.maxWidth = '60vh';
                            image.style.maxHeight = '95vh';
                        } else {
                            // æ¨ªå›¾æˆ–æ­£æ–¹å½¢ï¼šå®½åº¦å¤§äºç­‰äºé«˜åº¦
                            image.style.maxWidth = '90vw';
                            image.style.maxHeight = '60vh';
                        }
                    };
                }
            };
            
            // ä¸‹ä¸€å¼ Painting
            window.nextPainting = function() {
                currentPaintingIndex = (currentPaintingIndex + 1) % paintingImages.length;
                const image = document.getElementById('paintingPreviewImage');
                if (image) {
                    image.src = paintingImages[currentPaintingIndex];
                    image.alt = `Painting ${currentPaintingIndex + 1}`;
                    
                    // æ£€æµ‹å›¾ç‰‡å®½é«˜æ¯”å¹¶è°ƒæ•´å®¹å™¨
                    image.onload = function() {
                        const aspectRatio = image.naturalWidth / image.naturalHeight;
                        
                        if (aspectRatio < 1) {
                            // ç«–å›¾ï¼šé«˜åº¦å¤§äºå®½åº¦
                            image.style.maxWidth = '60vh';
                            image.style.maxHeight = '95vh';
                        } else {
                            // æ¨ªå›¾æˆ–æ­£æ–¹å½¢ï¼šå®½åº¦å¤§äºç­‰äºé«˜åº¦
                            image.style.maxWidth = '90vw';
                            image.style.maxHeight = '60vh';
                        }
                    };
                }
            };
            
            // ç‚¹å‡»å¤–éƒ¨å…³é—­Paintingé¢„è§ˆ
            document.addEventListener('click', function(e) {
                const modal = document.getElementById('paintingPreviewModal');
                if (e.target === modal) {
                    closePaintingPreview();
                }
            });
            
            // é”®ç›˜å¯¼èˆªæ”¯æŒ
            document.addEventListener('keydown', function(e) {
                const paintingModal = document.getElementById('paintingPreviewModal');
                if (paintingModal && paintingModal.style.display === 'flex') {
                    if (e.key === 'ArrowLeft') {
                        previousPainting();
                    } else if (e.key === 'ArrowRight') {
                        nextPainting();
                    } else if (e.key === 'Escape') {
                        closePaintingPreview();
                    }
                }
            });
            
            // ç«‹æ–¹ä½“æç¤ºæ–‡å­—æ§åˆ¶ - åªåœ¨Creative Dimensioné¡µé¢æ˜¾ç¤º
            const cubeHint = document.getElementById('cubeHint');
            const experimentsSection = document.getElementById('experiments');
            
            // è°ƒè¯•ä¿¡æ¯
            console.log('Cube hint element:', cubeHint);
            console.log('Experiments section:', experimentsSection);
            
            if (!cubeHint) {
                console.error('Cube hint element not found!');
                return;
            }
            
            // ç›‘å¬é¡µé¢åˆ‡æ¢äº‹ä»¶ï¼Œç«‹å³éšè—cube hint
            function hideCubeHintOnNavigation() {
                cubeHint.style.opacity = '0';
                cubeHint.style.display = 'none';
                console.log('Cube hint hidden due to navigation');
            }
            
            // ç›‘å¬é¼ æ ‡æ»šè½®äº‹ä»¶
            window.addEventListener('wheel', hideCubeHintOnNavigation, { passive: true });
            
            // ç›‘å¬é”®ç›˜æ–¹å‘é”®äº‹ä»¶
            window.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {
                    hideCubeHintOnNavigation();
                }
            });
            
            // ç›‘å¬è§¦æ‘¸æ»‘åŠ¨äº‹ä»¶
            let touchStartY = 0;
            window.addEventListener('touchstart', (e) => {
                touchStartY = e.touches[0].clientY;
            });
            
            window.addEventListener('touchend', (e) => {
                const touchEndY = e.changedTouches[0].clientY;
                const diff = touchStartY - touchEndY;
                
                if (Math.abs(diff) > 50) {
                    hideCubeHintOnNavigation();
                }
            });
            
            // ç›‘å¬å¯¼èˆªç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.nav-dot, .nav-link').forEach(element => {
                element.addEventListener('click', hideCubeHintOnNavigation);
            });
            
            // ä½¿ç”¨Intersection Observeræ£€æµ‹Creative Dimensioné¡µé¢
            let cubeHintTimeout = null;
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
                    if (cubeHintTimeout) {
                        clearTimeout(cubeHintTimeout);
                        cubeHintTimeout = null;
                    }
                    
                    if (entry.isIntersecting) {
                        // Creative Dimensioné¡µé¢å¯è§ - ç­‰ç«‹æ–¹ä½“åˆå§‹åŠ¨ç”»ç»“æŸåå†æ˜¾ç¤º
                        cubeHintTimeout = setTimeout(() => {
                            // å†æ¬¡æ£€æŸ¥æ˜¯å¦è¿˜åœ¨Creative Dimensioné¡µé¢
                            if (entry.isIntersecting) {
                                cubeHint.style.display = 'block';
                                setTimeout(() => {
                                    cubeHint.style.opacity = '1';
                                }, 2000); // 2ç§’æ·¡å…¥
                                console.log('Showing cube hint - Creative Dimension visible');
                            }
                        }, 2000); // 2ç§’å¼€å§‹æ˜¾ç¤ºï¼Œ4ç§’æ·¡å…¥å®Œæˆï¼Œä¸ç«‹æ–¹ä½“åˆå§‹åŠ¨ç”»åŒæ­¥
                    } else {
                        // Creative Dimensioné¡µé¢ä¸å¯è§ - ç«‹å³éšè—
                        cubeHint.style.opacity = '0';
                        cubeHint.style.display = 'none';
                        console.log('Hiding cube hint - Creative Dimension not visible');
                    }
                });
            }, {
                threshold: 0.3 // æé«˜é˜ˆå€¼ï¼Œç¡®ä¿é¡µé¢çœŸæ­£å¯è§
            });
            
            // è§‚å¯ŸCreative Dimensioné¡µé¢
            if (experimentsSection) {
                observer.observe(experimentsSection);
            }
            
            // ç«‹æ–¹ä½“æ·¡å…¥æ·¡å‡ºæ•ˆæœæ§åˆ¶
            
            // ç«‹æ–¹ä½“ã€èƒŒæ™¯å’Œæ˜Ÿç©ºæ·¡å‡ºæ•ˆæœ
            function fadeOutCube() {
                if (cubeWrapper) {
                    cubeWrapper.classList.remove('fade-in');
                    cubeWrapper.classList.add('fade-out');
                }
                if (creativeBg) {
                    creativeBg.classList.remove('fade-in');
                    creativeBg.classList.add('fade-out');
                    // ç«‹å³éšè—èƒŒæ™¯å›¾ç‰‡ï¼Œé¿å…é—ªçƒ
                    creativeBg.style.opacity = '0';
                    creativeBg.style.animation = 'none';
                }
                if (experimentsCanvas) {
                    experimentsCanvas.style.opacity = '0';
                }
            }
            
            function fadeInCube() {
                if (cubeWrapper) {
                    cubeWrapper.classList.remove('fade-out');
                    cubeWrapper.classList.add('fade-in');
                    
                    // ç¡®ä¿ç«‹æ–¹ä½“çŠ¶æ€æ­£ç¡®
                    cubeWrapper.style.opacity = '1';
                    cubeWrapper.style.visibility = 'visible';
                    
                    // å¼ºåˆ¶é‡ç½®åŠ¨ç”»çŠ¶æ€
                    cubeWrapper.style.animation = 'none';
                    
                    // å¼ºåˆ¶é‡ç»˜
                    void cubeWrapper.offsetWidth;
                    
                    // é‡æ–°å¼€å§‹åˆå§‹åŠ¨ç”»
                    cubeWrapper.style.animation = 'creativeCubeRotate 4s ease-in-out forwards';
                    console.log('Cube animation restarted - initial animation');
                    
                    // 4ç§’ååˆ‡æ¢åˆ°å¾ªç¯åŠ¨ç”»
                    setTimeout(() => {
                        cubeWrapper.style.animation = 'creativeCubeLoop 40s ease-in-out infinite';
                        console.log('Cube animation restarted - switched to loop animation');
                    }, 4000);
                }
                if (creativeBg) {
                    creativeBg.classList.remove('fade-out');
                    creativeBg.classList.add('fade-in');
                    
                    // é‡æ–°è§¦å‘èƒŒæ™¯åŠ¨ç”» - ç¡®ä¿å®Œå…¨é‡ç½®
                    creativeBg.style.animation = 'none';
                    creativeBg.style.opacity = '0';
                    creativeBg.style.filter = 'grayscale(100%)';
                    setTimeout(() => {
                        creativeBg.style.animation = 'bgFadeInAndColorShift 4s ease-in-out forwards';
                    }, 100);
                }
                if (experimentsCanvas) {
                    experimentsCanvas.style.opacity = '1';
                }
            }
            
            // ç›‘å¬é¡µé¢åˆ‡æ¢ - ä½¿ç”¨Intersection Observer
            let cubeObserverVisibleState = false;
            let cubeAnimationTimeout = null;
            let isFirstEntry = true; // æ ‡è®°æ˜¯å¦æ˜¯é¦–æ¬¡è¿›å…¥
            const cubeObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const isIntersecting = entry.isIntersecting;
                    
                    // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
                    if (cubeAnimationTimeout) {
                        clearTimeout(cubeAnimationTimeout);
                        cubeAnimationTimeout = null;
                    }
                    
                    // åªæœ‰å½“çŠ¶æ€çœŸæ­£æ”¹å˜æ—¶æ‰æ‰§è¡Œ
                    if (isIntersecting !== cubeObserverVisibleState) {
                        cubeObserverVisibleState = isIntersecting;
                        
                        if (isIntersecting) {
                            if (isFirstEntry) {
                                // é¦–æ¬¡è¿›å…¥ - ä½¿ç”¨fadeInCubeå‡½æ•°ç¡®ä¿èƒŒæ™¯ä¹Ÿæ˜¾ç¤º
                                fadeInCube();
                                isFirstEntry = false;
                                console.log('First entry - full fade in');
                            } else {
                                // åç»­è¿›å…¥ - ä½¿ç”¨JavaScriptæ§åˆ¶åŠ¨ç”»
                                cubeAnimationTimeout = setTimeout(() => {
                                    fadeInCube();
                                    console.log('Cube fade in triggered');
                                }, 150);
                            }
                        } else {
                            // ç¦»å¼€Creative Dimensioné¡µé¢
                            fadeOutCube();
                            console.log('Cube fade out triggered');
                        }
                    }
                });
            }, {
                threshold: 0.3, // ç®€åŒ–é˜ˆå€¼ï¼Œæé«˜ç¨³å®šæ€§
                rootMargin: '0px 0px 0px 0px' // ç²¾ç¡®æ£€æµ‹ï¼Œæ— è¾¹è·
            });
            
            // è§‚å¯Ÿç«‹æ–¹ä½“å®¹å™¨
            if (cubeWrapper) {
                cubeObserver.observe(cubeWrapper);
                console.log('Cube observer started');
            }
            
            
            const fileItems = document.querySelectorAll('.file-item');
            const lightboxModal = document.getElementById('lightboxModal');
            const videoModal = document.getElementById('videoModal');
            const lightboxImage = document.getElementById('lightboxImage');
            const lightboxVideo = document.getElementById('lightboxVideo');
            const lightboxClose = document.querySelectorAll('.lightbox-close');

            // Handle file item clicks
            fileItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    const type = this.dataset.type;
                    const file = this.dataset.file;
                    
                    if (type === 'opengl') {
                        if (file === 'terrain') {
                            // Open OpenGL image
                            lightboxImage.src = "{{ url_for('static', filename='media/creative-dimension/opengl/1.PNG') }}";
                            lightboxImage.alt = "Procedural Terrain Generation";
                            lightboxModal.style.display = 'flex';
                            document.body.style.overflow = 'hidden';
                        }
                    } else if (type === 'art') {
                        if (file === 'watercolor') {
                            // Open Art image
                            lightboxImage.src = "{{ url_for('static', filename='media/creative-dimension/art/art-preview.jpg') }}";
                            lightboxImage.alt = "Watercolor Illustrations";
                            lightboxModal.style.display = 'flex';
                            document.body.style.overflow = 'hidden';
                        }
                    } else if (type === 'music') {
                        if (file === 'performance') {
                            // Open Music video
                            lightboxVideo.src = "{{ url_for('static', filename='media/creative-dimension/opengl/2.mp4') }}";
                            videoModal.style.display = 'flex';
                            document.body.style.overflow = 'hidden';
                        }
                    }
                });
            });

            // Close modals
            lightboxClose.forEach(closeBtn => {
                closeBtn.addEventListener('click', function() {
                    lightboxModal.style.display = 'none';
                    videoModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                    // Pause video when closing
                    lightboxVideo.pause();
                });
            });

            // Close on background click
            [lightboxModal, videoModal].forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        modal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                        lightboxVideo.pause();
                    }
                });
            });

            // ESC key to close
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    if (lightboxModal.style.display === 'flex') {
                        lightboxModal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                    if (videoModal.style.display === 'flex') {
                        videoModal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                        lightboxVideo.pause();
                    }
                }
            });

            // Initialize creative cards animation effects
            const creativeCards = document.querySelectorAll('.creative-card');
            creativeCards.forEach((card, index) => {
                // ä¸ºæ¯ä¸ªå¡ç‰‡è®¾ç½®ç¨å¾®ä¸åŒçš„åŠ¨ç”»å»¶è¿Ÿï¼Œåˆ›é€ è‡ªç„¶æ‘†åŠ¨æ•ˆæœ
                card.style.animationDelay = `${index * 0.2}s`;

                // è½»å¾®éšæœºè°ƒæ•´å¤¹å­ä½ç½®ï¼Œä½¿å…¶çœ‹èµ·æ¥æ›´è‡ªç„¶
                const randomOffset = (Math.random() * 6) - 3; // -3px åˆ° +3px çš„éšæœºåç§»
                card.style.setProperty('--clip-offset', `${randomOffset}px`);
            });
            
            // ç«‹æ–¹ä½“é¢ç‚¹å‡»äº¤äº’ï¼ˆæ ¹æ®é¢ç±»å‹æ˜¾ç¤ºä¸åŒæ–‡æ¡ˆï¼‰
            const cubeFaces = document.querySelectorAll('.cube .face');
            const cubeModal = document.getElementById('cubeModal');
            const cubeModalContent = cubeModal.querySelector('.cube-modal-content');
            
            // è°ƒè¯•ä¿¡æ¯
            console.log('Cube faces found:', cubeFaces.length);
            console.log('Cube modal found:', cubeModal);
            console.log('Cube modal content found:', cubeModalContent);
            
            cubeFaces.forEach(face => {
                face.addEventListener('click', function() {
                    // ç¼ºçœå†…å®¹ï¼ˆpainting/musicï¼‰
                    let defaultHTML = `
                        <h2 style="margin-top:0">ç«‹æ–¹ä½“äº¤äº’</h2>
                        <p>æ‚¨ç‚¹å‡»äº†ç«‹æ–¹ä½“çš„ä¸€ä¸ªé¢ï¼è¿™æ˜¯ä¸€ä¸ª3Dç«‹æ–¹ä½“ï¼Œå±•ç¤ºäº†ä¸åŒçš„åˆ›ä½œç»´åº¦ã€‚</p>
                    `;

                    // GRAPHICï¼ˆfront/backï¼‰ï¼šç¬¬ä¸€è¡Œæ–‡å­—ï¼Œç¬¬äºŒè¡Œå·¦å³ä¸ºå›¾ç‰‡ä¸è§†é¢‘
                    if (face.classList.contains('front') || face.classList.contains('back')) {
                        cubeModal.classList.add('graphic');
                        cubeModal.classList.remove('painting-gallery-modal');
                        cubeModalContent.innerHTML = `
                            <div class="graphic-modal-body">
                                <div class="graphic-desc">
                                    <p>My personal practice from the Computer Graphics, using OpenGL to draw graphics and simple animations.</p>
                                </div>
                                <div class="graphic-media">
                                    <div class="graphic-item">
                                        <img src="{{ url_for('static', filename='media/creative-dimension/opengl/1.PNG') }}" alt="OpenGL Practice Image" class="graphic-image" />
                                        <div class="graphic-link">
                                            <a href="https://github.com/sukikatte/graphic" target="_blank" class="github-link">
                                                <i class="fab fa-github"></i> View Graphics Code
                                            </a>
                                        </div>
                                    </div>
                                    <div class="graphic-item">
                                        <video class="graphic-video" controls>
                                            <source src="{{ url_for('static', filename='media/creative-dimension/opengl/2.mp4') }}" type="video/mp4" />
                                            Your browser does not support the video tag.
                                        </video>
                                        <div class="graphic-link">
                                            <a href="https://github.com/sukikatte/graphic_ani" target="_blank" class="github-link">
                                                <i class="fab fa-github"></i> View Animation Code
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                        `;
                    } else {
                        cubeModal.classList.remove('graphic');
                        cubeModal.classList.remove('painting-gallery-modal');
                        // Painting/Musicï¼šæ˜¾ç¤ºå¯¹åº”å†…å®¹
                        if (face.classList.contains('left') || face.classList.contains('right')) {
                            // Paintingé¡µé¢æ˜¾ç¤ºä¹å®«æ ¼ç”»å»Š
                            cubeModalContent.innerHTML = `
                                <div class="painting-modal-content">
                                    <div class="painting-intro">
                                        <h3>Painting Gallery</h3>
                                        <p>I have placed some of my art works, mainly colored pencil drawings.</p>
                                    </div>
                                    
                                    <div class="painting-grid">
                                        <div class="painting-item" onclick="openPaintingPreview('/static/media/creative-dimension/art/1.JPG', 0)">
                                            <img src="/static/media/creative-dimension/art/1.JPG" alt="Painting 1" class="painting-image">
                                        </div>
                                        <div class="painting-item" onclick="openPaintingPreview('/static/media/creative-dimension/art/2.JPG', 1)">
                                            <img src="/static/media/creative-dimension/art/2.JPG" alt="Painting 2" class="painting-image">
                                        </div>
                                        <div class="painting-item" onclick="openPaintingPreview('/static/media/creative-dimension/art/3.JPG', 2)">
                                            <img src="/static/media/creative-dimension/art/3.JPG" alt="Painting 3" class="painting-image">
                                        </div>
                                        <div class="painting-item" onclick="openPaintingPreview('/static/media/creative-dimension/art/4.JPG', 3)">
                                            <img src="/static/media/creative-dimension/art/4.JPG" alt="Painting 4" class="painting-image">
                                        </div>
                                        <div class="painting-item" onclick="openPaintingPreview('/static/media/creative-dimension/art/5.JPG', 4)">
                                            <img src="/static/media/creative-dimension/art/5.JPG" alt="Painting 5" class="painting-image">
                                        </div>
                                        <div class="painting-item" onclick="openPaintingPreview('/static/media/creative-dimension/art/6.JPG', 5)">
                                            <img src="/static/media/creative-dimension/art/6.JPG" alt="Painting 6" class="painting-image">
                                        </div>
                                        <div class="painting-item" onclick="openPaintingPreview('/static/media/creative-dimension/art/7.JPG', 6)">
                                            <img src="/static/media/creative-dimension/art/7.JPG" alt="Painting 7" class="painting-image">
                                        </div>
                                        <div class="painting-item" onclick="openPaintingPreview('/static/media/creative-dimension/art/8.JPG', 7)">
                                            <img src="/static/media/creative-dimension/art/8.JPG" alt="Painting 8" class="painting-image">
                                        </div>
                                        <div class="painting-item" onclick="openPaintingPreview('/static/media/creative-dimension/art/9.JPG', 8)">
                                            <img src="/static/media/creative-dimension/art/9.JPG" alt="Painting 9" class="painting-image">
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Painting Preview Modal -->
                                <div id="paintingPreviewModal" class="painting-preview-modal">
                                    <div class="painting-preview-content">
                                        <span class="painting-preview-close" onclick="closePaintingPreview()">&times;</span>
                                        <button class="painting-preview-prev" onclick="previousPainting()">&lt;</button>
                                        <button class="painting-preview-next" onclick="nextPainting()">&gt;</button>
                                        <img id="paintingPreviewImage" src="" alt="Painting" class="painting-preview-image">
                                    </div>
                                </div>
                            `;
                        } else if (face.classList.contains('top') || face.classList.contains('bottom')) {
                            // Musicé¡µé¢æ˜¾ç¤ºæ–°çš„æ»šåŠ¨å†…å®¹
                            cubeModal.classList.remove('painting-gallery-modal');
                            cubeModalContent.innerHTML = `
                                <div class="music-modal-content">
                                    <div class="music-intro">
                                        <h3>Campus Band Experience</h3>
                                        <p>During my university years, I founded and led a campus band where I served as the lead vocalist and keyboardist. I also took on the responsibility of visual design for our performances. Our band actively participated in both on-campus and off-campus events, creating memorable musical experiences.</p>
                                    </div>
                                    
                                    <div class="music-grid">
                                        <div class="music-item" onclick="openMusicPreview('/static/media/creative-dimension/music/2.JPG', 'Performance Photo', 'This is a photo from one of our live performances, capturing the energy and passion of our band during a campus event.')">
                                            <img src="/static/media/creative-dimension/music/2.JPG" alt="Band Performance Photo" class="music-image">
                                            <div class="music-overlay">
                                                <h4>Performance Photo</h4>
                                                <p>Click to view</p>
                                            </div>
                                        </div>
                                        
                                        <div class="music-item" onclick="openMusicPreview('/static/media/creative-dimension/music/1.PNG', 'Recruitment Poster', 'I designed this recruitment poster to attract new members to our campus band. The design reflects our musical style and creative vision.')">
                                            <img src="/static/media/creative-dimension/music/1.PNG" alt="Band Recruitment Poster" class="music-image">
                                            <div class="music-overlay">
                                                <h4>Recruitment Poster</h4>
                                                <p>Click to view</p>
                                            </div>
                                        </div>
                                        
                                        <div class="music-item" onclick="openMusicPreview('/static/media/creative-dimension/music/music.mp4', 'Rehearsal Video', 'This video captures one of our rehearsal sessions, showing the collaborative process and musical development of our band.', 'video')">
                                            <video class="music-video" muted>
                                                <source src="/static/media/creative-dimension/music/music.mp4" type="video/mp4">
                                            </video>
                                            <div class="music-overlay">
                                                <h4>Rehearsal Video</h4>
                                                <p>Click to view</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Music Preview Modal -->
                                <div id="musicPreviewModal" class="music-preview-modal">
                                    <div class="music-preview-content">
                                        <span class="music-preview-close" onclick="closeMusicPreview()">&times;</span>
                                        <div class="music-preview-frame">
                                            <div class="music-preview-media"></div>
                                            <div class="music-preview-text">
                                                <h3 class="music-preview-title"></h3>
                                                <p class="music-preview-description"></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `;
                        } else {
                            cubeModalContent.innerHTML = defaultHTML;
                        }
                    }
                    openCubeModal();
                });
            });

            // å¼¹çª—åŠŸèƒ½
            window.openCubeModal = function() {
                cubeModal.style.display = 'block';
            };
            
            window.closeCubeModal = function() {
                const modal = document.getElementById('cubeModal');
                modal.style.display = 'none';
            };
            
            // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­
            window.onclick = function(event) {
                const modal = document.getElementById('cubeModal');
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            };
            
            // Contacté¡µé¢æ·¡å…¥åŠ¨ç”»é‡æ–°è§¦å‘
            window.addEventListener('sectionChange', function(event) {
                const index = event.detail.index;
                if (index === 3) { // contacté¡µé¢çš„ç´¢å¼•
                    const contactInfoContainer = document.querySelector('.contact-info-container');
                    if (contactInfoContainer) {
                        // é‡ç½®åŠ¨ç”»
                        contactInfoContainer.style.animation = 'none';
                        // å¼ºåˆ¶é‡æ’
                        void contactInfoContainer.offsetWidth;
                        // é‡æ–°åº”ç”¨åŠ¨ç”»
                        contactInfoContainer.style.animation = 'contactFadeInUp 0.8s ease-out 0.6s forwards';
                    }
                }
                
                // Homeé¡µé¢åŠ¨ç”»é‡æ–°è§¦å‘
                if (index === 0) { // homeé¡µé¢
                    // é‡ç½®å³ä¸‹å›¾ç‰‡åŠ¨ç”»
                    const bottomRightImg = document.querySelector('.home-image-bottom-right');
                    if (bottomRightImg) {
                        bottomRightImg.style.animation = 'none';
                        void bottomRightImg.offsetWidth;
                        bottomRightImg.style.animation = 'revealFromBottom 4s ease-out 0.5s forwards';
                    }
                    
                    // é‡ç½®å³ä¸Šå›¾ç‰‡åŠ¨ç”»
                    const topRightImg = document.querySelector('.home-image-top-right');
                    if (topRightImg) {
                        topRightImg.style.animation = 'none';
                        void topRightImg.offsetWidth;
                        topRightImg.style.animation = 'revealFromBottom 1.5s ease-out 1s forwards';
                    }
                    
                    // é‡ç½®æ–‡å­—åŠ¨ç”»
                    const subtitle = document.querySelector('.home-subtitle');
                    if (subtitle) {
                        subtitle.style.animation = 'none';
                        void subtitle.offsetWidth;
                        subtitle.style.animation = 'fadeInUp 1s ease-out 3.5s forwards';
                    }
                }
            });
        });
    </script>
</body>
</html>