<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zitong Wang - IDT Portfolio</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/fullpage.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Cormorant+Garamond:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.4.0/css/all.css">
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <!-- ËÉåÊôØÂõæÁâá -->
    <div class="bg-image"></div>
    
    <!-- ÁΩëÊ†ºÊòüÁ©∫ËÉåÊôØÁîªÂ∏É -->
    <canvas id="bgCanvas" class="bg-canvas"></canvas>
    
    <!-- ÂØºËà™Ê†è -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#home" class="nav-logo">
                <span class="logo-name">Zitong Wang</span>
                <span class="logo-separator">/</span>
                <span class="logo-portfolio">Portfolio</span>
            </a>
            <ul class="nav-menu">
                <li><a href="#home" class="nav-link home-icon-link" data-section="0">
                    <i class="fa-solid fa-star-of-david"></i>
                </a></li>
                <li><a href="#projects" class="nav-link" data-section="1">Project</a></li>
                <li><a href="#experiments" class="nav-link" data-section="2">Creative Dimension</a></li>
                <li><a href="#connect" class="nav-link" data-section="3">contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- ‰æßËæπÂØºËà™ÁÇπ -->
    <div class="side-nav">
        <div class="nav-dot active" data-section="0" title="üåç Home"></div>
        <div class="nav-dot" data-section="1" title="Project"></div>
        <div class="nav-dot" data-section="2" title="Creative Dimension"></div>
        <div class="nav-dot" data-section="3" title="contact"></div>
    </div>

    <!-- ÈîÆÁõòÊèêÁ§∫ÔºàÂè™Âú®È¶ñÈ°µÊòæÁ§∫Ôºâ -->
    <div class="keyboard-hint">
        <div class="key-hint">
            <span class="key">‚Üë</span>
            <span class="key">‚Üì</span>
        </div>
        <span class="hint-text">use directional keys to navigate</span>
    </div>
    
    <!-- ÊªöÂä®ÊèêÁ§∫Ôºà‰∏ÄÁõ¥ÊòæÁ§∫Ôºâ -->
    <div class="scroll-hint">
        <div class="scroll-text">Scroll to explore</div>
        <div class="scroll-arrow">‚Üì</div>
    </div>

    <!-- ÂÖ®Â±èÂÆπÂô® -->
    <div class="fullpage-container">
        
        <!-- Section 0: Home / Hero -->
        <section class="fullpage-section active" id="home">
            <!-- Three.js ÊòüÁ©∫ËÉåÊôØÁîªÂ∏É -->
            <canvas id="starsCanvas" class="stars-canvas"></canvas>
        </section>

        <!-- Section 1: Projects -->
        <section class="fullpage-section" id="projects">
            <!-- Three.js ÊòüÁ©∫ËÉåÊôØÁîªÂ∏É -->
            <canvas id="projectsCanvas" class="stars-canvas"></canvas>
            <div class="section-content">
                <!-- Ê®™ÂêëÊªëÂä®È°πÁõÆÂ±ïÁ§∫ -->
                <div class="projects-slider-wrapper">
                    <div class="projects-slider-container">
                        <!-- Project 1: Dwen Dwen's Neighbor -->
                        <div class="projects-slide" data-project-id="dwen">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--dwen"><span class="dwen-blob" aria-hidden="true"></span></div>
                                <h3 class="projects-project-name">Dwen Dwen's Neighbor</h3>
                                <p class="projects-year">WEB ¬∑ Interactive</p>
                            </div>
                        </div>
                        
                        <!-- Project 2: Chinese Medicine -->
                        <div class="projects-slide" data-project-id="medicine">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--medicine"><span class="card-blob" aria-hidden="true"></span></div>
                                <h3 class="projects-project-name">Chinese Medicine</h3>
                                <p class="projects-year">WEB ¬∑ Intelligent</p>
                            </div>
                        </div>
                        
                        <!-- Project 3: Guess Songs -->
                        <div class="projects-slide" data-project-id="songs">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--songs"><span class="card-blob" aria-hidden="true"></span></div>
                                <h3 class="projects-project-name">Guess Songs</h3>
                                <p class="projects-year">MOBILE ¬∑ Android</p>
                            </div>
                        </div>
                        
                        <!-- Project 4: Digital Mahjong -->
                        <div class="projects-slide" data-project-id="mahjong">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--mahjong"><span class="card-blob" aria-hidden="true"></span></div>
                                <h3 class="projects-project-name">Digital Mahjong</h3>
                                <p class="projects-year">GAME ¬∑ Logic</p>
                            </div>
                        </div>
                        
                        <!-- Project 5: Parrot Ordering -->
                        <div class="projects-slide" data-project-id="parrot">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--parrot"><span class="card-blob" aria-hidden="true"></span></div>
                                <h3 class="projects-project-name">Parrot Ordering</h3>
                                <p class="projects-year">WEB ¬∑ Workflow</p>
                            </div>
                        </div>
                        
                        <!-- Project 6: Event Management -->
                        <div class="projects-slide" data-project-id="event">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--event"><span class="card-blob" aria-hidden="true"></span></div>
                                <h3 class="projects-project-name">Event Management</h3>
                                <p class="projects-year">SYSTEM ¬∑ Architecture</p>
                            </div>
                        </div>
                        
                        <!-- Project 7: Frankenstories -->
                        <div class="projects-slide" data-project-id="franken">
                            <div class="projects-card-wrapper">
                                <div class="projects-card projects-card--franken"><span class="card-blob" aria-hidden="true"></span></div>
                                <h3 class="projects-project-name">Frankenstories</h3>
                                <p class="projects-year">AI ¬∑ Creative</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ÂØºËà™ÊéßÂà∂ - Áã¨Á´ãÂ±Ö‰∏≠ -->
                <div class="projects-nav">
                    <button class="projects-nav-btn prev">‚Äπ</button>
                    <div class="projects-indicators">
                        <span class="projects-indicator active" data-index="0"></span>
                        <span class="projects-indicator" data-index="1"></span>
                        <span class="projects-indicator" data-index="2"></span>
                        <span class="projects-indicator" data-index="3"></span>
                        <span class="projects-indicator" data-index="4"></span>
                        <span class="projects-indicator" data-index="5"></span>
                        <span class="projects-indicator" data-index="6"></span>
                    </div>
                    <button class="projects-nav-btn next">‚Ä∫</button>
                </div>
            </div>
        </section>

        <!-- Section 2: Creative Dimension -->
        <section class="fullpage-section" id="experiments">
            <!-- ËÉåÊôØÂõæÁâá -->
            <div class="creative-bg-image"></div>
            <!-- Three.js ÊòüÁ©∫ËÉåÊôØÁîªÂ∏É -->
            <canvas id="experimentsCanvas" class="stars-canvas"></canvas>
            <div class="section-content">
                <!-- Creative Dimension - Á´ãÊñπ‰ΩìÂä®Áîª -->
                <div id="creativeContainer" class="relative mt-20 mb-8 pt-10">
                    <!-- Á´ãÊñπ‰ΩìÂä®ÁîªÂÆπÂô® -->
                    <div class="cube-animation-container">
                        <div class="cube-wrapper">
                            <div class="cube">
                                <div class="face front"></div>
                                <div class="face back"></div>
                                <div class="face right"></div>
                                <div class="face left"></div>
                                <div class="face top"></div>
                                <div class="face bottom"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Contact -->
        <section class="fullpage-section" id="connect">
            <!-- Three.js ÊòüÁ©∫ËÉåÊôØÁîªÂ∏É -->
            <canvas id="contactCanvas" class="stars-canvas"></canvas>
            <div class="section-content">
                <div class="contact-layout">
                    <!-- Ê†áÈ¢òÂå∫Âüü -->
                    <div class="contact-header">
                        <h2 class="contact-title">Let's Connect</h2>
                        <div class="contact-subtitle">Ready to bring ideas to life?</div>
                    </div>
                    
                    <!-- ËÅîÁ≥ªÊñπÂºèÁΩëÊ†º -->
                    <div class="contact-grid">
                        <div class="contact-item">
                            <div class="contact-icon">üìß</div>
                            <div class="contact-info">
                                <h3>Email</h3>
                                <a href="mailto:zitong.wang@ucdconnect.ie" class="contact-link">zitong.wang@ucdconnect.ie</a>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <div class="contact-icon">üíª</div>
                            <div class="contact-info">
                                <h3>GitHub</h3>
                                <a href="https://github.com/sukikatte" target="_blank" class="contact-link">@sukikatte</a>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <div class="contact-icon">üìÑ</div>
                            <div class="contact-info">
                                <h3>Resume</h3>
                                <a href="{{ url_for('static', filename='documents/CV.pdf') }}" download="Zitong_Wang_CV.pdf" class="contact-link">Download CV</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- Lightbox Modal -->
    <div id="lightboxModal" class="lightbox-modal">
        <span class="lightbox-close">&times;</span>
        <img class="lightbox-content" id="lightboxImage" src="" alt="">
    </div>

    <!-- Video Modal -->
    <div id="videoModal" class="lightbox-modal">
        <span class="lightbox-close">&times;</span>
        <video class="lightbox-content" id="lightboxVideo" controls>
            <source src="" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <!-- Á´ãÊñπ‰ΩìÂºπÁ™ó -->
    <div id="cubeModal" class="cube-modal">
        <div class="cube-modal-content">
            <h2>Á´ãÊñπ‰Ωì‰∫§‰∫í</h2>
            <p>ÊÇ®ÁÇπÂáª‰∫ÜÁ´ãÊñπ‰ΩìÁöÑ‰∏Ä‰∏™Èù¢ÔºÅËøôÊòØ‰∏Ä‰∏™3DÁ´ãÊñπ‰ΩìÔºåÂ±ïÁ§∫‰∫Ü‰∏çÂêåÁöÑÂàõ‰ΩúÁª¥Â∫¶„ÄÇ</p>
            <button class="cube-modal-close" onclick="closeCubeModal()">ÂÖ≥Èó≠</button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/fullpage.js') }}"></script>
    <script src="{{ url_for('static', filename='js/stars.js') }}"></script>
    
    <!-- Creative Dimension Book-style Script -->
    <script>
        // Book-style Creative Dimension functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Á°Æ‰øùËÉåÊôØÂä®ÁîªÊ≠£Â∏∏Êí≠Êîæ
            const creativeBg = document.querySelector('.creative-bg-image');
            if (creativeBg) {
                // ÁßªÈô§ÂèØËÉΩÂ≠òÂú®ÁöÑÂÜÖËÅîÊ†∑ÂºèÔºåËÆ©CSSÂä®ÁîªÊ≠£Â∏∏Â∑•‰Ωú
                creativeBg.style.animation = '';
            }
            
            const fileItems = document.querySelectorAll('.file-item');
            const lightboxModal = document.getElementById('lightboxModal');
            const videoModal = document.getElementById('videoModal');
            const lightboxImage = document.getElementById('lightboxImage');
            const lightboxVideo = document.getElementById('lightboxVideo');
            const lightboxClose = document.querySelectorAll('.lightbox-close');

            // Handle file item clicks
            fileItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    const type = this.dataset.type;
                    const file = this.dataset.file;
                    
                    if (type === 'opengl') {
                        if (file === 'terrain') {
                            // Open OpenGL image
                            lightboxImage.src = "{{ url_for('static', filename='media/creative-dimension/opengl/1.PNG') }}";
                            lightboxImage.alt = "Procedural Terrain Generation";
                            lightboxModal.style.display = 'flex';
                            document.body.style.overflow = 'hidden';
                        }
                    } else if (type === 'art') {
                        if (file === 'watercolor') {
                            // Open Art image
                            lightboxImage.src = "{{ url_for('static', filename='media/creative-dimension/art/art-preview.jpg') }}";
                            lightboxImage.alt = "Watercolor Illustrations";
                            lightboxModal.style.display = 'flex';
                            document.body.style.overflow = 'hidden';
                        }
                    } else if (type === 'music') {
                        if (file === 'performance') {
                            // Open Music video
                            lightboxVideo.src = "{{ url_for('static', filename='media/creative-dimension/opengl/2.mp4') }}";
                            videoModal.style.display = 'flex';
                            document.body.style.overflow = 'hidden';
                        }
                    }
                });
            });

            // Close modals
            lightboxClose.forEach(closeBtn => {
                closeBtn.addEventListener('click', function() {
                    lightboxModal.style.display = 'none';
                    videoModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                    // Pause video when closing
                    lightboxVideo.pause();
                });
            });

            // Close on background click
            [lightboxModal, videoModal].forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        modal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                        lightboxVideo.pause();
                    }
                });
            });

            // ESC key to close
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    if (lightboxModal.style.display === 'flex') {
                        lightboxModal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                    if (videoModal.style.display === 'flex') {
                        videoModal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                        lightboxVideo.pause();
                    }
                }
            });

            // Initialize creative cards animation effects
            const creativeCards = document.querySelectorAll('.creative-card');
            creativeCards.forEach((card, index) => {
                // ‰∏∫ÊØè‰∏™Âç°ÁâáËÆæÁΩÆÁ®çÂæÆ‰∏çÂêåÁöÑÂä®ÁîªÂª∂ËøüÔºåÂàõÈÄ†Ëá™ÁÑ∂ÊëÜÂä®ÊïàÊûú
                card.style.animationDelay = `${index * 0.2}s`;

                // ËΩªÂæÆÈöèÊú∫Ë∞ÉÊï¥Â§πÂ≠ê‰ΩçÁΩÆÔºå‰ΩøÂÖ∂ÁúãËµ∑Êù•Êõ¥Ëá™ÁÑ∂
                const randomOffset = (Math.random() * 6) - 3; // -3px Âà∞ +3px ÁöÑÈöèÊú∫ÂÅèÁßª
                card.style.setProperty('--clip-offset', `${randomOffset}px`);
            });
            
            // Á´ãÊñπ‰ΩìÈù¢ÁÇπÂáª‰∫§‰∫íÔºàÊ†πÊçÆÈù¢Á±ªÂûãÊòæÁ§∫‰∏çÂêåÊñáÊ°àÔºâ
            const cubeFaces = document.querySelectorAll('.cube .face');
            const cubeModal = document.getElementById('cubeModal');
            const cubeModalContent = cubeModal.querySelector('.cube-modal-content');
            cubeFaces.forEach(face => {
                face.addEventListener('click', function() {
                    // Áº∫ÁúÅÂÜÖÂÆπÔºàpainting/musicÔºâ
                    let defaultHTML = `
                        <h2 style="margin-top:0">Á´ãÊñπ‰Ωì‰∫§‰∫í</h2>
                        <p>ÊÇ®ÁÇπÂáª‰∫ÜÁ´ãÊñπ‰ΩìÁöÑ‰∏Ä‰∏™Èù¢ÔºÅËøôÊòØ‰∏Ä‰∏™3DÁ´ãÊñπ‰ΩìÔºåÂ±ïÁ§∫‰∫Ü‰∏çÂêåÁöÑÂàõ‰ΩúÁª¥Â∫¶„ÄÇ</p>
                    `;

                    // GRAPHICÔºàfront/backÔºâÔºöÁ¨¨‰∏ÄË°åÊñáÂ≠óÔºåÁ¨¨‰∫åË°åÂ∑¶Âè≥‰∏∫ÂõæÁâá‰∏éËßÜÈ¢ë
                    if (face.classList.contains('front') || face.classList.contains('back')) {
                        cubeModal.classList.add('graphic');
                        cubeModalContent.innerHTML = `
                            <div class="graphic-modal-body">
                                <div class="graphic-desc">
                                    <p>My personal practice from the Computer Graphics, using OpenGL to draw graphics and simple animations.</p>
                                </div>
                                <div class="graphic-media">
                                    <div class="graphic-item">
                                        <img src="{{ url_for('static', filename='media/creative-dimension/opengl/1.PNG') }}" alt="OpenGL Practice Image" class="graphic-image" />
                                        <div class="graphic-link">
                                            <a href="https://github.com/sukikatte/graphic" target="_blank" class="github-link">
                                                <i class="fab fa-github"></i> View Graphics Code
                                            </a>
                                        </div>
                                    </div>
                                    <div class="graphic-item">
                                        <video class="graphic-video" controls>
                                            <source src="{{ url_for('static', filename='media/creative-dimension/opengl/2.mp4') }}" type="video/mp4" />
                                            Your browser does not support the video tag.
                                        </video>
                                        <div class="graphic-link">
                                            <a href="https://github.com/sukikatte/graphic_ani" target="_blank" class="github-link">
                                                <i class="fab fa-github"></i> View Animation Code
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                        `;
                    } else {
                        cubeModal.classList.remove('graphic');
                        // Painting/MusicÔºöÊòæÁ§∫ÂØπÂ∫î‰∏≠ÊñáÊñáÊ°à
                        let msg = '';
                        if (face.classList.contains('left') || face.classList.contains('right')) {
                            msg = 'ËøôÊòØpaintingÈ°µÈù¢';
                        } else if (face.classList.contains('top') || face.classList.contains('bottom')) {
                            msg = 'ËøôÊòØmusicÈ°µÈù¢';
                        } else {
                            msg = '';
                        }
                        cubeModalContent.innerHTML = defaultHTML;
                        const p = cubeModalContent.querySelector('p');
                        if (p && msg) p.textContent = msg;
                    }
                    openCubeModal();
                });
            });

            // ÂºπÁ™óÂäüËÉΩ
            window.openCubeModal = function() {
                cubeModal.style.display = 'block';
            };
            
            window.closeCubeModal = function() {
                const modal = document.getElementById('cubeModal');
                modal.style.display = 'none';
            };
            
            // ÁÇπÂáªÂºπÁ™óÂ§ñÈÉ®ÂÖ≥Èó≠
            window.onclick = function(event) {
                const modal = document.getElementById('cubeModal');
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            };
        });
    </script>
</body>
</html>